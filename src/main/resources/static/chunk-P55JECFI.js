import{b as N,d as V,e as W,f as F,g as L,h as R,i as q,l as z,m as B,n as D,p as U,q as G,t as H}from"./chunk-PUES3UOK.js";import{f as j,j as y}from"./chunk-YXC3A2TB.js";import{Da as I,Ha as f,Nb as E,Oa as c,Ob as J,Qb as T,Sa as n,Ta as i,Ua as d,Xa as A,Ya as S,Z as g,Za as C,_ as b,_a as v,a as M,b as w,db as r,eb as P,fb as x,hb as k,ib as u,jb as _,kb as h,ua as a,ya as O}from"./chunk-JEWXIX7B.js";function X(s,m){s&1&&(n(0,"div",28),d(1,"i",29),r(2,"Creating assessment... "),i())}function Y(s,m){s&1&&(n(0,"div",30),d(1,"i",31),r(2,"Assessment created successfully! "),i())}function K(s,m){if(s&1&&(n(0,"div",32),d(1,"i",33),r(2),i()),s&2){let t=C();a(2),x("",t.error," ")}}function Q(s,m){if(s&1&&(n(0,"option",34),r(1),i()),s&2){let t=m.$implicit;c("value",t.id),a(),k(" ",t.title," - ",t.role," (",t.location,") ")}}function Z(s,m){s&1&&(n(0,"div",35),r(1,"Loading available jobs..."),i())}function $(s,m){if(s&1&&(n(0,"div",12)(1,"label",13),r(2,"Job Details"),i(),n(3,"div",36)(4,"small")(5,"strong"),r(6),i(),d(7,"br"),r(8),d(9,"br"),r(10),d(11,"br"),r(12),i()()()),s&2){let t,o,e,l,p=C();a(6),P((t=p.getSelectedJob())==null?null:t.title),a(2),x(" Department: ",(o=p.getSelectedJob())==null?null:o.role,""),a(2),x(" Location: ",(e=p.getSelectedJob())==null?null:e.location,""),a(2),x(" Type: ",(l=p.getSelectedJob())==null?null:l.type," ")}}function ee(s,m){if(s&1){let t=A();n(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"label",13),r(5,"Step Order"),i(),n(6,"input",41),h("ngModelChange",function(e){let l=g(t).$implicit;return _(l.stepOrder,e)||(l.stepOrder=e),b(e)}),i()(),n(7,"div",42)(8,"label",13),r(9,"Step Title"),i(),n(10,"input",43),h("ngModelChange",function(e){let l=g(t).$implicit;return _(l.stepName,e)||(l.stepName=e),b(e)}),i(),n(11,"datalist",44),d(12,"option",45)(13,"option",46)(14,"option",47)(15,"option",48)(16,"option",49)(17,"option",50),i()(),n(18,"div",42)(19,"label",13),r(20,"Mode of Assessment"),i(),n(21,"input",51),h("ngModelChange",function(e){let l=g(t).$implicit;return _(l.mode,e)||(l.mode=e),b(e)}),i(),n(22,"datalist",52),d(23,"option",53)(24,"option",54)(25,"option",55)(26,"option",56),i()(),n(27,"div",42)(28,"label",13),r(29,"Passing Criteria (%)"),i(),n(30,"input",57),h("ngModelChange",function(e){let l=g(t).$implicit;return _(l.passingCriteria,e)||(l.passingCriteria=e),b(e)}),i()(),n(31,"div",58)(32,"button",59),S("click",function(){let e=g(t).index,l=C();return b(l.removeStep(e))}),d(33,"i",60),i()()()()()}if(s&2){let t=m.$implicit,o=m.index,e=C();a(6),v("name","stepOrder",o,""),u("ngModel",t.stepOrder),a(4),v("name","stepName",o,""),u("ngModel",t.stepName),a(11),v("name","mode",o,""),u("ngModel",t.mode),a(9),v("name","passingCriteria",o,""),u("ngModel",t.passingCriteria),a(2),c("disabled",e.steps.length===1)}}var de=(()=>{class s{apiService;jobs=[];loadingJobs=!1;selectedJobId=null;steps=[{stepOrder:1,stepName:"",mode:"",passingCriteria:""}];loading=!1;success=!1;error=null;constructor(t){this.apiService=t}ngOnInit(){this.loadJobs()}loadJobs(){this.loadingJobs=!0,this.apiService.getJobs().subscribe({next:t=>{this.jobs=t.filter(o=>o.isActive),this.loadingJobs=!1,this.jobs.length>0&&(this.selectedJobId=this.jobs[0].id)},error:t=>{this.jobs=y.getFallbackJobs().filter(o=>o.isActive),this.loadingJobs=!1,this.jobs.length>0&&(this.selectedJobId=this.jobs[0].id)}})}getSelectedJob(){return this.jobs.find(t=>t.id===this.selectedJobId)}addStep(){this.steps.push({stepOrder:this.steps.length+1,stepName:"",mode:"",passingCriteria:""})}removeStep(t){this.steps.length>1&&this.steps.splice(t,1)}submit(){if(!this.selectedJobId){this.error="Please select a job.";return}this.loading=!0,this.success=!1,this.error=null;let t=this.steps.map(o=>w(M({},o),{jobId:Number(this.selectedJobId)}));this.apiService.createAssessment(t).subscribe({next:()=>{this.loading=!1,this.success=!0},error:o=>{this.loading=!1,this.error=o}})}static \u0275fac=function(o){return new(o||s)(O(y))};static \u0275cmp=I({type:s,selectors:[["app-create-assessment"]],decls:36,vars:10,consts:[[1,"create-assessment-bg","d-flex","align-items-center","justify-content-center","min-vh-90","w-100"],[1,"create-assessment-card","p-5","shadow-lg","w-100"],[1,"text-center","mb-4"],[1,"brand-icon","mb-2"],[1,"fas","fa-clipboard-list"],[1,"brand-heading","mb-1"],[1,"brand-subheading","mb-3"],["class","alert alert-info",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit"],[1,"row","g-4"],[1,"col-md-6"],[1,"form-label"],[1,"text-danger"],["name","jobId","required","",1,"form-select",3,"ngModelChange","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-text",4,"ngIf"],["class","col-md-6",4,"ngIf"],[1,"w-100"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-end","mb-3"],["type","button",1,"btn","brand-outline-btn",3,"click"],[1,"fas","fa-plus","me-1"],[1,"col-12","d-flex","justify-content-between","align-items-center","mt-4"],["routerLink","/assessments",1,"btn","brand-green-btn"],["type","submit",1,"btn","brand-green-btn","px-4",3,"disabled"],[1,"alert","alert-info"],[1,"fas","fa-spinner","fa-spin","me-2"],[1,"alert","alert-success"],[1,"fas","fa-check-circle","me-2"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],[3,"value"],[1,"form-text"],[1,"form-control-plaintext","bg-light","p-2","rounded"],[1,"col-12"],[1,"step-card","p-3","mb-2","rounded-3","shadow-sm","position-relative"],[1,"row","g-3","align-items-end"],[1,"col-md-2"],["type","number","min","1","required","",1,"form-control",3,"ngModelChange","ngModel","name"],[1,"col-md-3"],["type","text","placeholder","e.g. Technical Interview","list","stepNameOptions","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["id","stepNameOptions"],["value","Resume Screening"],["value","Technical Interview"],["value","Managerial Round"],["value","HR Round"],["value","Coding Test"],["value","Group Discussion"],["type","text","list","modeOptions","placeholder","e.g. Video Conferencing","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["id","modeOptions"],["value","ATS"],["value","In-Person"],["value","Video Conferencing"],["value","Phone"],["type","text","placeholder","e.g. 70","required","",1,"form-control",3,"ngModelChange","ngModel","name"],[1,"col-md-1","d-flex","align-items-center","justify-content-end"],["type","button","title","Remove Step",1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"fas","fa-trash"]],template:function(o,e){o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"i",4),i(),n(5,"h2",5),r(6,"Create Assessment"),i(),n(7,"div",6),r(8,"Add steps for the assessment below"),i()(),f(9,X,3,0,"div",7)(10,Y,3,0,"div",8)(11,K,3,1,"div",9),n(12,"form",10),S("ngSubmit",function(){return e.submit()}),n(13,"div",11)(14,"div",12)(15,"label",13),r(16,"Select Job Position "),n(17,"span",14),r(18,"*"),i()(),n(19,"select",15),h("ngModelChange",function(p){return _(e.selectedJobId,p)||(e.selectedJobId=p),p}),n(20,"option",16),r(21,"-- Select Job --"),i(),f(22,Q,2,4,"option",17),i(),f(23,Z,2,0,"div",18),i(),f(24,$,13,4,"div",19),d(25,"div",20),f(26,ee,34,13,"div",21),n(27,"div",22)(28,"button",23),S("click",function(){return e.addStep()}),d(29,"i",24),r(30," Add Step "),i()(),n(31,"div",25)(32,"a",26),r(33,"Back to Assessments"),i(),n(34,"button",27),r(35,"Create Assessment"),i()()()()()()),o&2&&(a(9),c("ngIf",e.loading),a(),c("ngIf",e.success),a(),c("ngIf",e.error),a(8),u("ngModel",e.selectedJobId),c("disabled",e.loading||e.loadingJobs),a(3),c("ngForOf",e.jobs),a(),c("ngIf",e.loadingJobs),a(),c("ngIf",e.getSelectedJob()),a(2),c("ngForOf",e.steps),a(8),c("disabled",e.loading||!e.selectedJobId))},dependencies:[T,E,J,H,R,B,D,N,q,z,V,W,G,U,L,F,j],styles:[`.create-assessment-bg[_ngcontent-%COMP%]{background:linear-gradient(120deg,#f3f7fa,#e9f7ef);min-height:90vh;width:100%;z-index:0;display:flex;align-items:center;justify-content:center}.create-assessment-card[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:28px;box-shadow:0 12px 40px #3c3c3c21,0 2px 8px #3c3c3c17;width:100%;max-width:900px;padding:3rem 2.5rem;animation:_ngcontent-%COMP%_fadeInUp .7s cubic-bezier(.39,.575,.565,1) both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:none}}.brand-heading[_ngcontent-%COMP%]{color:#d2f55b;font-weight:700;letter-spacing:1px;font-size:2.1rem}.brand-subheading[_ngcontent-%COMP%]{color:#888;font-size:1.1rem;font-weight:400}.brand-icon[_ngcontent-%COMP%]{background:#cad2ff;color:#222;width:54px;height:54px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;margin:0 auto .5rem}.brand-green-btn[_ngcontent-%COMP%]{background:#d2f55b;color:#222;border:none;border-radius:8px;font-weight:600;transition:background .2s;box-shadow:0 2px 8px #d2f55b14}.brand-green-btn[_ngcontent-%COMP%]:hover{background:#cad2ff;color:#222}.brand-outline-btn[_ngcontent-%COMP%]{border:2px solid black;color:#000;background:transparent;border-radius:8px;font-weight:600;transition:background .2s,color .2s}.brand-outline-btn[_ngcontent-%COMP%]:hover{border:2px solid rgb(210,245,91);background:#d2f55b;color:#222}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#444}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #e0e0e0;background:#f8fafd;font-size:1rem;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#d2f55b;box-shadow:0 0 0 2px #d2f55b26}.step-card[_ngcontent-%COMP%]{background:#f8fafd;border-radius:16px;box-shadow:0 2px 8px #3c3c3c0f;margin-bottom:8px}.btn-outline-primary[_ngcontent-%COMP%]{border:2px solid rgb(163,176,253);color:#a3b0fd;background:transparent!important;border-radius:8px;font-weight:600;transition:background .2s,color .2s}.btn-outline-primary[_ngcontent-%COMP%]:hover{background:#cad2ff;color:#222}.btn-outline-danger[_ngcontent-%COMP%]{border:2px solid #ff5a5a;color:#ff5a5a;background:transparent;border-radius:8px;font-weight:600;transition:background .2s,color .2s}.btn-outline-danger[_ngcontent-%COMP%]:hover{background:#ff5a5a;color:#fff}@media (max-width: 900px){.create-assessment-card[_ngcontent-%COMP%]{max-width:98vw;padding:2rem .5rem}}
/*# sourceMappingURL=create-assessment.component-3FMXCCAN.css.map */`]})}return s})();export{de as CreateAssessmentComponent};
//# sourceMappingURL=chunk-P55JECFI.js.map
