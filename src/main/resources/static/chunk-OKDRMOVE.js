import{b as L,d as N,e as D,f as R,g as Y,h as B,j as U,u as W}from"./chunk-QENRJ74P.js";import{c as V,f as z,i as F,j as b}from"./chunk-XP7GFRGV.js";import{Ea as S,Ia as f,Nb as I,Ob as A,Pa as s,Pb as T,Rb as J,Ta as n,Ua as i,Va as d,Wa as h,Xa as C,Ya as w,Z as _,Za as M,_ as v,_a as m,eb as a,fb as p,gb as g,hb as k,jb as O,kb as P,lb as j,ob as E,pb as y,va as o,za as u}from"./chunk-RXLJ6G3Z.js";var K=(t,r)=>({"brand-green-bg":t,"brand-yellow-bg":r}),Q=(t,r)=>({"fa-check-circle":t,"fa-pause-circle":r}),$=t=>["/jobs/edit-job",t];function q(t,r){t&1&&(n(0,"div",4)(1,"div",5),d(2,"div",6),n(3,"p",7),a(4,"Loading job details..."),i()()())}function G(t,r){if(t&1&&(n(0,"div",8)(1,"div",9),d(2,"i",10),a(3),i()()),t&2){let e=m();o(3),g("",e.error," ")}}function Z(t,r){if(t&1&&(n(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"div",15)(5,"span",16),d(6,"i",17),i(),n(7,"div")(8,"h1",18),a(9),i(),n(10,"div",19)(11,"span",20),d(12,"i",21),a(13),i(),n(14,"span",22),d(15,"i",23),a(16),i()()()()(),n(17,"div",24)(18,"a",25),d(19,"i",26),a(20,"Back "),i(),n(21,"a",27),d(22,"i",28),a(23,"Edit Job "),i()()()(),n(24,"div",29)(25,"div",30)(26,"div",31)(27,"div",32),d(28,"i",33),i(),n(29,"div")(30,"div",34),a(31,"Department"),i(),n(32,"div",35),a(33),i()()()(),n(34,"div",30)(35,"div",31)(36,"div",36),d(37,"i",37),i(),n(38,"div")(39,"div",34),a(40,"Level"),i(),n(41,"div",35),a(42),i()()()(),n(43,"div",30)(44,"div",31)(45,"div",38),d(46,"i",39),i(),n(47,"div")(48,"div",34),a(49,"Type"),i(),n(50,"div",35),a(51),i()()()(),n(52,"div",30)(53,"div",31)(54,"div",40),d(55,"i",41),i()()()(),n(56,"div",42)(57,"div",43)(58,"div",44),d(59,"i",45),i(),n(60,"div")(61,"h5",46),a(62,"Salary Range"),i(),n(63,"div",47)(64,"span",48),a(65),i(),n(66,"span",49),a(67,"-"),i(),n(68,"span",48),a(69),i(),n(70,"span",50),a(71,"per year"),i()()()()(),n(72,"div",51)(73,"div",15)(74,"div",52),d(75,"i",53),i(),n(76,"h4",54),a(77,"Job Description"),i()(),n(78,"div",55)(79,"div",56),a(80),i()()()()),t&2){let e=m();o(9),p(e.job.title),o(2),s("ngClass",y(12,K,e.job.isActive===!0,e.job.isActive===!1)),o(),s("ngClass",y(15,Q,e.job.isActive===!0,e.job.isActive===!1)),o(),g(" ",e.job.isActive?"Active":"Inactive"," "),o(3),g(" ",e.job.location," "),o(5),s("routerLink",E(18,$,e.job.id)),o(12),p(e.job.role),o(9),p(e.job.level),o(9),p(e.job.type),o(14),g("$",e.job.salaryMin.toLocaleString(),""),o(4),g("$",e.job.salaryMax.toLocaleString(),""),o(11),p(e.job.description)}}function H(t,r){t&1&&d(0,"i",60)}function X(t,r){t&1&&d(0,"i",61)}function ee(t,r){t&1&&(n(0,"div",65),d(1,"div",66),n(2,"p",67),a(3,"Loading assessments..."),i()())}function te(t,r){if(t&1&&(n(0,"div",68),d(1,"i",10),a(2),i()),t&2){let e=m(3);o(2),g("",e.assessmentsError," ")}}function ne(t,r){if(t&1){let e=w();n(0,"div",74)(1,"label",75)(2,"input",76),j("ngModelChange",function(c){_(e);let x=m(4);return P(x.selectedAssessmentTitle,c)||(x.selectedAssessmentTitle=c),v(c)}),i(),n(3,"span",77),a(4),i()()()}if(t&2){let e=r.$implicit,l=m(4);o(2),s("value",e),O("ngModel",l.selectedAssessmentTitle),s("disabled",l.linking),o(2),p(e)}}function ie(t,r){if(t&1&&(n(0,"div",78),a(1),i()),t&2){let e=m(4);o(),p(e.linkError)}}function oe(t,r){if(t&1&&(n(0,"div",79),a(1),i()),t&2){let e=m(4);o(),p(e.linkSuccess)}}function ae(t,r){if(t&1){let e=w();n(0,"div")(1,"form"),f(2,ne,5,4,"div",69),i(),n(3,"button",70),M("click",function(){_(e);let c=m(3);return v(c.linkAssessmentToJob())}),d(4,"i",71),a(5),i(),f(6,ie,2,1,"div",72)(7,oe,2,1,"div",73),i()}if(t&2){let e=m(3);o(2),s("ngForOf",e.assessmentTitles),o(),s("disabled",!e.selectedAssessmentTitle||e.linking),o(2),g(" ",e.linking?"Linking...":"Link Selected Assessment"," "),o(),s("ngIf",e.linkError),o(),s("ngIf",e.linkSuccess)}}function se(t,r){t&1&&(n(0,"div",80)(1,"div",81),d(2,"i",82),a(3," No assessments found. "),i()())}function re(t,r){if(t&1&&(h(0),f(1,ee,4,0,"div",62)(2,te,3,1,"div",63)(3,ae,8,5,"div",59)(4,se,4,0,"div",64),C()),t&2){let e=m(2);o(),s("ngIf",e.loadingAssessments),o(),s("ngIf",e.assessmentsError),o(),s("ngIf",!e.loadingAssessments&&e.assessmentTitles.length>0),o(),s("ngIf",!e.loadingAssessments&&e.assessmentTitles.length===0)}}function de(t,r){if(t&1&&(n(0,"div",86)(1,"div",77),a(2),i(),n(3,"div",81),a(4),i()()),t&2){let e=r.$implicit;o(2),p(e.stepName),o(2),k("Mode: ",e.mode," | Passing Criteria: ",e.passingCriteria,"")}}function le(t,r){if(t&1&&(n(0,"div")(1,"div",84),f(2,de,5,3,"div",85),i()()),t&2){let e=m(3);o(2),s("ngForOf",e.assessmentSteps)}}function ce(t,r){t&1&&(n(0,"div",81),a(1," No steps found for this assessment. "),i())}function me(t,r){if(t&1&&(h(0),f(1,le,3,1,"div",59)(2,ce,2,0,"div",83),C()),t&2){let e=m(2);o(),s("ngIf",e.assessmentSteps.length>0),o(),s("ngIf",e.assessmentSteps.length===0)}}function pe(t,r){if(t&1&&(n(0,"div",11)(1,"div",15)(2,"div",52),f(3,H,1,0,"i",57)(4,X,1,0,"i",58),i(),n(5,"h4",54),a(6),i()(),f(7,re,5,4,"ng-container",59)(8,me,3,2,"ng-container",59),i()),t&2){let e=m();o(3),s("ngIf",!e.showAssessmentSteps),o(),s("ngIf",e.showAssessmentSteps),o(2),g(" ",e.showAssessmentSteps?"Assessment Steps":"Link Job to Assessment"," "),o(),s("ngIf",!e.showAssessmentSteps),o(),s("ngIf",e.showAssessmentSteps)}}function ge(t,r){if(t&1&&(n(0,"div",8)(1,"div",87)(2,"div",88),d(3,"i",82),n(4,"span"),a(5),i()(),n(6,"div",24)(7,"a",89),d(8,"i",90),a(9,"View Candidates "),i()()()()),t&2){let e=m();o(5),g("Job ID: ",e.job.id,"")}}var ye=(()=>{class t{route;apiService;job=null;loading=!0;error=null;assessments=[];assessmentTitles=[];loadingAssessments=!1;assessmentsError=null;selectedAssessmentTitle=null;linking=!1;linkError=null;linkSuccess=null;assessmentSteps=[];showAssessmentSteps=!1;constructor(e,l){this.route=e,this.apiService=l}ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("id"));this.apiService.getJobById(e).subscribe({next:l=>{this.job=l,this.loading=!1,this.loadAssessmentSteps()},error:l=>{let c=b.getFallbackJobs().find(x=>x.id===e);c?(this.job=c,this.error="Showing fallback job data (API unavailable)",this.loadAssessmentSteps()):this.error="Job not found (API unavailable)",this.loading=!1}})}loadAssessmentSteps(){this.job?.id&&this.apiService.getAssessmentStepsForJob(this.job.id).subscribe({next:e=>{this.assessmentSteps=e,this.showAssessmentSteps=e&&e.length>0,this.showAssessmentSteps||this.loadAssessments()},error:()=>{this.assessmentSteps=[],this.showAssessmentSteps=!1,this.loadAssessments()}})}loadAssessments(){this.loadingAssessments=!0,this.assessmentsError=null,this.apiService.getAssessments().subscribe({next:e=>{this.assessments=e,this.assessmentTitles=Array.from(new Set(e.map(l=>l.title))),this.loadingAssessments=!1},error:e=>{this.assessmentsError="Failed to load assessments",this.loadingAssessments=!1,this.assessments=b.getFallbackAssessments(),this.assessmentTitles=Array.from(new Set(this.assessments.map(l=>l.title)))}})}linkAssessmentToJob(){!this.job?.id||!this.selectedAssessmentTitle||(this.linking=!0,this.linkError=null,this.linkSuccess=null,this.apiService.linkAssessmentToJobByTitle(this.selectedAssessmentTitle,this.job.id).subscribe({next:()=>{this.linking=!1,this.linkSuccess="Assessment linked successfully!",this.loadAssessmentSteps()},error:e=>{this.linkError="Failed to link assessment: "+e,this.linking=!1}}))}static \u0275fac=function(l){return new(l||t)(u(V),u(b))};static \u0275cmp=S({type:t,selectors:[["app-view-job"]],decls:6,vars:5,consts:[[1,"container","mt-4","jobs-bg"],["class","text-center py-5",4,"ngIf"],["class","jobs-floating-container p-4",4,"ngIf"],["class","jobs-floating-container p-4 mb-4",4,"ngIf"],[1,"text-center","py-5"],[1,"jobs-floating-container","p-5"],["role","status",1,"spinner-border","text-primary",2,"width","3rem","height","3rem"],[1,"mt-3","text-muted","fs-5"],[1,"jobs-floating-container","p-4"],[1,"alert","alert-danger","mb-0","border-0",2,"background-color","#f8d7da","border-radius","12px"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"jobs-floating-container","p-4","mb-4"],[1,"top-bar","mb-4"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"flex-grow-1"],[1,"d-flex","align-items-center","mb-3"],[1,"job-icon","me-3"],[1,"fas","fa-code"],[1,"fw-bold","mb-1",2,"font-size","1.8rem","color","#222"],[1,"d-flex","align-items-center","gap-3","mt-2"],[1,"badge","job-status-badge",3,"ngClass"],[1,"fas",2,"font-size","0.8rem",3,"ngClass"],[1,"badge","text-dark","location-badge"],[1,"fas","fa-map-marker-alt","me-1",2,"font-size","0.8rem"],[1,"d-flex","gap-2"],["routerLink","/jobs",1,"btn","btn-outline-secondary",2,"border-radius","8px"],[1,"fas","fa-arrow-left","me-1"],[1,"btn","brand-green-btn",3,"routerLink"],[1,"fas","fa-edit","me-1"],[1,"row","mb-4"],[1,"col-md-3","mb-3"],[1,"info-card"],[1,"info-card-icon","brand-purple-bg"],[1,"fas","fa-building"],[1,"info-card-label"],[1,"info-card-value"],[1,"info-card-icon","brand-green-bg"],[1,"fas","fa-layer-group"],[1,"info-card-icon","brand-yellow-bg"],[1,"fas","fa-clock"],[1,"info-card-icon",2,"background-color","#e3f2fd","color","#1976d2"],[1,"fas","fa-users"],[1,"salary-section","mb-4","p-4",2,"background","linear-gradient(135deg, #f8f9ff 0%, #e8f5e8 100%)","border-radius","16px","border","1px solid #e2e8f0"],[1,"d-flex","align-items-center"],[1,"salary-icon","me-3"],[1,"fas","fa-dollar-sign"],[1,"mb-1","fw-bold",2,"color","#222"],[1,"salary-range"],[1,"salary-amount"],[1,"mx-2",2,"color","#666"],[1,"text-muted","ms-2"],[1,"description-section"],[1,"section-icon","me-2"],[1,"fas","fa-file-text"],[1,"mb-0","fw-bold",2,"color","#222"],[1,"description-content","p-4",2,"background","#f8f9fa","border-radius","12px","border-left","4px solid rgb(210, 245, 91)"],[2,"white-space","pre-line","line-height","1.6","color","#555"],["class","fas fa-link",4,"ngIf"],["class","fas fa-list",4,"ngIf"],[4,"ngIf"],[1,"fas","fa-link"],[1,"fas","fa-list"],["class","text-center py-4",4,"ngIf"],["class","alert alert-warning","style","border-radius: 12px;",4,"ngIf"],["class","no-steps-message text-center py-4",4,"ngIf"],[1,"text-center","py-4"],["role","status",1,"spinner-border","text-primary",2,"width","2rem","height","2rem"],[1,"mt-2","text-muted"],[1,"alert","alert-warning",2,"border-radius","12px"],["class","mb-3",4,"ngFor","ngForOf"],[1,"btn","brand-green-btn","mt-3",3,"click","disabled"],[1,"fas","fa-link","me-1"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"mb-3"],[1,"form-check-label","d-flex","align-items-center"],["type","radio","name","assessment","ngDefaultControl","",1,"form-check-input","me-2",3,"ngModelChange","value","ngModel","disabled"],[1,"fw-bold"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"],[1,"no-steps-message","text-center","py-4"],[1,"text-muted"],[1,"fas","fa-info-circle","me-2"],["class","text-muted",4,"ngIf"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","text-muted"],["routerLink","/candidates",1,"btn","btn-outline-success",2,"border-radius","8px"],[1,"fas","fa-eye","me-1"]],template:function(l,c){l&1&&(n(0,"div",0),f(1,q,5,0,"div",1)(2,G,4,1,"div",2)(3,Z,81,20,"div",3)(4,pe,9,5,"div",3)(5,ge,10,1,"div",2),i()),l&2&&(o(),s("ngIf",c.loading),o(),s("ngIf",c.error),o(),s("ngIf",!c.loading&&c.job),o(),s("ngIf",!c.loading&&c.job),o(),s("ngIf",!c.loading&&c.job))},dependencies:[J,I,A,T,F,z,W,B,L,U,N,D,Y,R],styles:[`.jobs-bg[_ngcontent-%COMP%]{background:transparent!important}.job-card[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:16px;box-shadow:0 2px 12px #3c3c3c0f;min-height:220px;transition:box-shadow .2s}.job-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 24px #3c3c3c1f}.job-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#d2f55b;color:#222;display:flex;align-items:center;justify-content:center;font-size:1.3rem;padding:15px}.brand-green-bg[_ngcontent-%COMP%]{background:#d1f55b9f!important;color:#222!important}.brand-green-btn[_ngcontent-%COMP%]{background:#d2f55b!important;color:#222!important;border:none;font-weight:600;border-radius:8px}.job-status-badge[_ngcontent-%COMP%]{font-size:.95rem;border-radius:8px;padding:4px 12px}.job-meta[_ngcontent-%COMP%]{font-size:.97rem;color:#555}.layout-toggle.active[_ngcontent-%COMP%], .layout-toggle[_ngcontent-%COMP%]:focus{background:#d2f55b!important;color:#222!important}.layout-toggle[_ngcontent-%COMP%]{border-radius:8px;border:none;background:#f4f4f4;color:#888}.brand-green-bg[_ngcontent-%COMP%]{background:#75f55b!important;color:#000000b2!important}.brand-yellow-bg[_ngcontent-%COMP%]{background:#e4ee5dc5!important;color:#000000b2!important}.brand-purple-bg[_ngcontent-%COMP%]{background:#cad2ffcc!important;color:#000000b2!important}.jobs-floating-container[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:18px;box-shadow:0 8px 32px #3c3c3c14,0 1.5px 4px #3c3c3c0f}.top-bar[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:1px solid #99989885}.form-control[_ngcontent-%COMP%]{background-color:#f3f2f2b9;border:1px solid #838282}.job-table-view[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;background:#fdfdfd;box-shadow:0 2px 12px #3c3c3c0f}.job-icon-table[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;background:#d2f55b;color:#222;display:inline-flex;align-items:center;justify-content:center;font-size:1rem}.job-table-view[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.table-head[_ngcontent-%COMP%]{background-color:#cad2ff!important}.job-table-view[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cad2ff!important;color:#222!important;border-bottom:2px solid #e2e1e1;font-weight:600;padding-top:20px;padding-bottom:20px;vertical-align:middle}.job-table-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}
/*# sourceMappingURL=jobs.component-EMD2V4QZ.css.map */`,`.info-card[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:12px;padding:1.5rem;border:1px solid #e2e8f0;display:flex;align-items:center;gap:1rem;transition:all .2s ease;height:100%}.info-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #3c3c3c1a}.info-card-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;flex-shrink:0}.info-card-label[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-weight:500;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.info-card-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#222}.salary-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff;border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;box-shadow:0 4px 12px #22c55e40}.salary-amount[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#059669}.section-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:#cad2ff;color:#222;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1rem}.description-content[_ngcontent-%COMP%]{position:relative;overflow:hidden}.description-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(to bottom,#d2f55b,#d2f55b80)}.location-badge[_ngcontent-%COMP%]{background-color:#f1f5f9!important;color:#475569!important;border-radius:8px;padding:6px 12px;font-weight:500;border:1px solid #e2e8f0}.job-status-badge[_ngcontent-%COMP%]{font-size:.9rem;border-radius:8px;padding:6px 14px;font-weight:600;display:inline-flex;align-items:center;gap:6px}.jobs-floating-container[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{border-color:#d2f55b;border-right-color:transparent}.btn[_ngcontent-%COMP%]{font-weight:600;padding:8px 20px;transition:all .2s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.brand-green-btn[_ngcontent-%COMP%]:hover{background:#bee147!important;box-shadow:0 4px 12px #d2f55b4d}.assessment-step-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a!important}.section-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:16px}.question-text[_ngcontent-%COMP%]{line-height:1.6;color:#555}.option-item[_ngcontent-%COMP%]{padding:8px 0;border-bottom:1px solid #f1f1f1}.option-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.info-card[_ngcontent-%COMP%]{padding:1rem}.info-card-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1rem}.salary-icon[_ngcontent-%COMP%]{width:48px;height:48px;font-size:1.2rem}.salary-amount[_ngcontent-%COMP%]{font-size:1.2rem}.top-bar[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important;gap:1rem}.top-bar[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:100%;justify-content:stretch}.top-bar[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn[_ngcontent-%COMP%]{flex:1}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.info-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out forwards}.info-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.info-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.info-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.info-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}
/*# sourceMappingURL=view-job.component-53MQKNPK.css.map */`]})}return t})();export{ye as ViewJobComponent};
//# sourceMappingURL=chunk-OKDRMOVE.js.map
