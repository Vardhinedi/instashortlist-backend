import{f as O,j as C}from"./chunk-XP7GFRGV.js";import{Ea as J,Ia as x,Nb as j,Ob as I,Pa as l,Pb as P,Ra as u,Rb as M,Ta as t,Ua as n,Va as s,Ya as y,Z as _,Za as f,_ as h,_a as b,eb as i,fb as p,gb as g,hb as S,nb as w,ob as v,pb as E,va as o,za as k}from"./chunk-RXLJ6G3Z.js";var A=()=>["/jobs/create-job"],F=r=>["/jobs/view-job",r],T=(r,c)=>({"brand-green-bg":r,"brand-yellow-bg":c}),V=r=>["/jobs/edit-job",r];function L(r,c){if(r&1&&(t(0,"span"),i(1,"Showing "),t(2,"b"),i(3),n(),i(4," Jobs"),n()),r&2){let e=b();o(3),p(e.jobs.length)}}function D(r,c){r&1&&(t(0,"span"),i(1,"Loading jobs..."),n())}function $(r,c){if(r&1){let e=y();t(0,"div",23),s(1,"i",24),t(2,"strong"),i(3,"API Error:"),n(),i(4),s(5,"br"),t(6,"small",25),i(7,"Showing fallback data instead."),n(),t(8,"button",26),f("click",function(){_(e);let a=b();return h(a.clearError())}),n()()}if(r&2){let e=b();o(4),g(" ",e.error," ")}}function G(r,c){r&1&&(t(0,"div",27)(1,"div",28)(2,"span",29),i(3,"Loading..."),n()(),t(4,"p",30),i(5,"Loading jobs from API..."),n()())}function z(r,c){r&1&&(t(0,"div",27),s(1,"i",31),t(2,"h4",25),i(3,"No Jobs Found"),n(),t(4,"p",25),i(5,"There are no jobs available at the moment."),n(),t(6,"a",9),s(7,"i",32),i(8,"Post Your First Job "),n()()),r&2&&(o(6),l("routerLink",w(1,A)))}function N(r,c){if(r&1){let e=y();t(0,"div",35)(1,"div",36)(2,"div",37)(3,"span",38),s(4,"i",39),n(),t(5,"span",40),i(6),n()(),t(7,"div",41),i(8),n(),t(9,"div",42),i(10),n(),t(11,"div",43)(12,"span",44),s(13,"i",45),i(14),n(),i(15," \xA0\xA0\xA0\xA0 "),t(16,"span",46),s(17,"i",47),i(18),n()(),t(19,"div",43)(20,"span",48),i(21),n()(),t(22,"div",49),i(23),n(),t(24,"div",50)(25,"a",51),s(26,"i",52),i(27,"Edit "),n(),t(28,"button",53),f("click",function(){let a=_(e).$implicit,m=b(2);return h(m.deleteJob(a))}),s(29,"i",54),i(30),n()()()()}if(r&2){let e=c.$implicit,d=b(2);o(),l("routerLink",v(17,F,e.id)),o(4),l("ngClass",E(19,T,e.isActive===!0,e.isActive===!1)),o(),g(" ",e.isActive?"Active":"Inactive"," "),o(2),p(e.title),o(2),p(e.role),o(4),g("\xA0\xA0",e.level,""),o(4),g("\xA0\xA0",e.type,""),o(3),p(e.location),o(2),S("$",e.salaryMin,"-$",e.salaryMax," "),o(2),l("routerLink",v(22,V,e.id)),o(3),l("disabled",d.isDeletingJob(e.id)),o(),u("fa-spinner",d.isDeletingJob(e.id))("fa-spin",d.isDeletingJob(e.id)),o(),g(" ",d.isDeletingJob(e.id)?"Deleting...":"Delete"," ")}}function R(r,c){if(r&1&&(t(0,"div",33),x(1,N,31,24,"div",34),n()),r&2){let e=b();o(),l("ngForOf",e.jobs)}}function U(r,c){if(r&1){let e=y();t(0,"tr",58)(1,"td")(2,"span",59),s(3,"i",39),n(),i(4),n(),t(5,"td"),i(6),n(),t(7,"td")(8,"span",40),i(9),n()(),t(10,"td"),i(11),n(),t(12,"td"),i(13),n(),t(14,"td"),i(15),n(),t(16,"td")(17,"div",60)(18,"a",61),s(19,"i",62),n(),t(20,"button",63),f("click",function(){let a=_(e).$implicit,m=b(2);return h(m.deleteJob(a))}),s(21,"i",64),n()()()()}if(r&2){let e=c.$implicit,d=b(2);l("routerLink",v(15,F,e.id)),o(4),g(" ",e.title," "),o(2),p(e.role),o(2),l("ngClass",E(17,T,e.isActive===!0,e.isActive===!1)),o(),g(" ",e.isActive?"Active":"Inactive"," "),o(2),p(e.level),o(2),p(e.type),o(2),S("$",e.salaryMin,"-",e.salaryMax,""),o(3),l("routerLink",v(20,V,e.id)),o(2),l("disabled",d.isDeletingJob(e.id)),o(),u("fa-spinner",d.isDeletingJob(e.id))("fa-spin",d.isDeletingJob(e.id))}}function q(r,c){if(r&1&&(t(0,"div")(1,"table",55)(2,"thead",56)(3,"tr")(4,"th"),i(5,"Position"),n(),t(6,"th"),i(7,"Department"),n(),t(8,"th"),i(9,"Status"),n(),t(10,"th"),i(11,"Level"),n(),t(12,"th"),i(13,"Type"),n(),t(14,"th"),i(15,"Salary"),n(),t(16,"th"),i(17,"Actions"),n()()(),t(18,"tbody"),x(19,U,22,22,"tr",57),n()()()),r&2){let e=b();o(19),l("ngForOf",e.jobs)}}var W=(()=>{class r{apiService;jobs=[];isGridView=!0;loading=!1;error=null;deletingJobId=null;constructor(e){this.apiService=e}ngOnInit(){this.loadJobs()}loadJobs(){this.loading=!0,this.error=null,this.apiService.getJobs().subscribe({next:e=>{console.log("Jobs loaded successfully:",e),this.jobs=e,this.loading=!1},error:e=>{console.error("Error loading jobs:",e),this.error=e,this.loading=!1,this.loadFallbackJobs()}})}loadFallbackJobs(){console.log("Loading fallback jobs due to API error"),this.jobs=C.getFallbackJobs()}toggleView(e){this.isGridView=e}postJob(e,d){console.log(`Posting job ID: ${e} - ${d} to hiring platforms`)}refreshJobs(){this.loadJobs()}clearError(){this.error=null}deleteJob(e){if(!e.id){console.error("Job ID is required for deletion");return}confirm(`Are you sure you want to delete "${e.title}"? This action cannot be undone.`)&&(this.deletingJobId=e.id,this.apiService.deleteJob(e.id).subscribe({next:()=>{console.log(`Job ${e.title} deleted successfully`),this.jobs=this.jobs.filter(a=>a.id!==e.id),this.deletingJobId=null},error:a=>{console.error("Error deleting job:",a),this.deletingJobId=null;let m=this.error;this.error=`Failed to delete job: ${a}`,setTimeout(()=>{this.error=m},3e3)}}))}isDeletingJob(e){return this.deletingJobId===e}static \u0275fac=function(d){return new(d||r)(k(C))};static \u0275cmp=J({type:r,selectors:[["app-jobs"]],decls:39,vars:19,consts:[[1,"container","mt-4","jobs-bg"],[1,"jobs-floating-container","p-4","mb-4"],[1,"top-bar","d-flex","flex-wrap","justify-content-between","align-items-center","mb-3","gap-3"],[1,"d-flex","flex-grow-1","gap-2"],["placeholder","Search position, department, etc",1,"form-control",2,"max-width","320px"],[1,"btn","btn-outline-secondary"],[1,"fas","fa-filter"],[1,"d-flex","gap-2","ms-auto"],[1,"btn","brand-green-btn"],[1,"btn","brand-green-btn",3,"routerLink"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","mb-3","gap-3"],[4,"ngIf"],[1,"d-flex","align-items-center","gap-2","ms-auto"],[1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"form-select","form-select-sm",2,"width","auto",3,"disabled"],["title","Grid View",1,"btn","layout-toggle",3,"click","disabled"],[1,"fas","fa-th"],["title","Table View",1,"btn","layout-toggle",3,"click","disabled"],[1,"fas","fa-list"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],["class","text-center py-5",4,"ngIf"],["class","row g-4",4,"ngIf"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"text-muted"],["type","button",1,"btn-close",3,"click"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"fas","fa-briefcase","fa-3x","text-muted","mb-3"],[1,"fas","fa-plus","me-2"],[1,"row","g-4"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"job-card","p-3","shadow-sm",2,"cursor","pointer",3,"routerLink"],[1,"d-flex","justify-content-between","align-items-start","mb-2"],[1,"job-icon","brand-green"],[1,"fas","fa-code"],[1,"badge","job-status-badge",3,"ngClass"],[1,"fw-bold","fs-5","mb-1"],[1,"text-muted","mb-2"],[1,"mb-2"],[1,"job-meta"],[1,"fas","fa-briefcase","me-1"],[1,"job-meta","ms-3"],[1,"fas","fa-clock","me-1"],[1,"badge","text-dark",2,"border-radius","6px","padding","10px","background-color","#eeecec"],[1,"fs-3","mb-4","pb-4","pt-4","border-bottom",2,"border-bottom-width","2px","border-bottom-style","solid","border-bottom-color","#3d3d3d"],[1,"d-flex","gap-2","mt-3"],[1,"btn","btn-outline-primary","btn-sm","flex-fill",3,"routerLink"],[1,"fas","fa-edit","me-1"],[1,"btn","btn-outline-danger","btn-sm","flex-fill",3,"click","disabled"],[1,"fas","fa-trash","me-1"],[1,"table","table-hover","align-middle","job-table-view"],[1,"table-head"],["style","cursor:pointer",3,"routerLink",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"routerLink"],[1,"job-icon-table","brand-green","me-2"],[1,"d-flex","gap-1"],["title","Edit Job",1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[1,"fas","fa-edit"],["title","Delete Job",1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"fas","fa-trash"]],template:function(d,a){d&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4,"input",4),t(5,"button",5),s(6,"i",6),i(7," Filter"),n()(),t(8,"div",7)(9,"button",8),i(10,"Import a Job"),n(),t(11,"a",9),i(12,"Post Jobs"),n()()(),t(13,"div",10)(14,"div"),x(15,L,5,1,"span",11)(16,D,2,0,"span",11),n(),t(17,"div",12)(18,"button",13),f("click",function(){return a.refreshJobs()}),s(19,"i",14),i(20," Refresh "),n(),t(21,"span"),i(22,"Sort by:"),n(),t(23,"select",15)(24,"option"),i(25,"Last Updated"),n(),t(26,"option"),i(27,"Title"),n(),t(28,"option"),i(29,"Applicants"),n()(),t(30,"button",16),f("click",function(){return a.toggleView(!0)}),s(31,"i",17),n(),t(32,"button",18),f("click",function(){return a.toggleView(!1)}),s(33,"i",19),n()()()(),x(34,$,9,1,"div",20)(35,G,6,0,"div",21)(36,z,9,2,"div",21)(37,R,2,1,"div",22)(38,q,20,1,"div",11),n()),d&2&&(o(11),l("routerLink",w(18,A)),o(4),l("ngIf",!a.loading),o(),l("ngIf",a.loading),o(2),l("disabled",a.loading),o(),u("fa-spin",a.loading),o(4),l("disabled",a.loading),o(7),u("active",a.isGridView),l("disabled",a.loading),o(2),u("active",!a.isGridView),l("disabled",a.loading),o(2),l("ngIf",a.error),o(),l("ngIf",a.loading),o(),l("ngIf",!a.loading&&a.jobs.length===0&&!a.error),o(),l("ngIf",a.isGridView&&!a.loading&&a.jobs.length>0),o(),l("ngIf",!a.isGridView&&!a.loading&&a.jobs.length>0))},dependencies:[M,j,I,P,O],styles:[`.jobs-bg[_ngcontent-%COMP%]{background:transparent!important}.job-card[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:16px;box-shadow:0 2px 12px #3c3c3c0f;min-height:220px;transition:box-shadow .2s}.job-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 24px #3c3c3c1f}.job-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#d2f55b;color:#222;display:flex;align-items:center;justify-content:center;font-size:1.3rem;padding:15px}.brand-green-bg[_ngcontent-%COMP%]{background:#d1f55b9f!important;color:#222!important}.brand-green-btn[_ngcontent-%COMP%]{background:#d2f55b!important;color:#222!important;border:none;font-weight:600;border-radius:8px}.job-status-badge[_ngcontent-%COMP%]{font-size:.95rem;border-radius:8px;padding:4px 12px}.job-meta[_ngcontent-%COMP%]{font-size:.97rem;color:#555}.layout-toggle.active[_ngcontent-%COMP%], .layout-toggle[_ngcontent-%COMP%]:focus{background:#d2f55b!important;color:#222!important}.layout-toggle[_ngcontent-%COMP%]{border-radius:8px;border:none;background:#f4f4f4;color:#888}.brand-green-bg[_ngcontent-%COMP%]{background:#75f55b!important;color:#000000b2!important}.brand-yellow-bg[_ngcontent-%COMP%]{background:#e4ee5dc5!important;color:#000000b2!important}.brand-purple-bg[_ngcontent-%COMP%]{background:#cad2ffcc!important;color:#000000b2!important}.jobs-floating-container[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:18px;box-shadow:0 8px 32px #3c3c3c14,0 1.5px 4px #3c3c3c0f}.top-bar[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:1px solid #99989885}.form-control[_ngcontent-%COMP%]{background-color:#f3f2f2b9;border:1px solid #838282}.job-table-view[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;background:#fdfdfd;box-shadow:0 2px 12px #3c3c3c0f}.job-icon-table[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;background:#d2f55b;color:#222;display:inline-flex;align-items:center;justify-content:center;font-size:1rem}.job-table-view[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.table-head[_ngcontent-%COMP%]{background-color:#cad2ff!important}.job-table-view[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cad2ff!important;color:#222!important;border-bottom:2px solid #e2e1e1;font-weight:600;padding-top:20px;padding-bottom:20px;vertical-align:middle}.job-table-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}
/*# sourceMappingURL=jobs.component-EMD2V4QZ.css.map */`]})}return r})();export{W as JobsComponent};
//# sourceMappingURL=chunk-4QRFIV3X.js.map
