import{a as O,b as I,d as V,e as A,f as W,g as T,h as L,i as F,m as N,n as B,o as D,r as z,u as R}from"./chunk-QENRJ74P.js";import{c as P,e as J,f as k,j as q}from"./chunk-XP7GFRGV.js";import{Ea as w,Ia as C,Nb as j,Pa as b,Pb as S,Rb as E,Ta as n,Ua as o,Va as u,Ya as M,Z as s,Za as h,_ as m,_a as c,db as v,eb as a,gb as y,jb as g,kb as p,lb as f,va as l,za as x}from"./chunk-RXLJ6G3Z.js";function U(d,_){d&1&&(n(0,"div",12),u(1,"i",13),a(2,"Loading job data... "),o())}function G(d,_){d&1&&(n(0,"div",12),u(1,"i",13),a(2,"Updating job... "),o())}function X(d,_){d&1&&(n(0,"div",14),u(1,"i",15),a(2,"Job updated successfully! Redirecting... "),o())}function Y(d,_){if(d&1){let i=M();n(0,"div",16),u(1,"i",17),a(2),n(3,"button",18),h("click",function(){s(i);let e=c();return m(e.clearError())}),o()()}if(d&2){let i=c();l(2),y("",i.error," ")}}function H(d,_){d&1&&u(0,"i",53)}function K(d,_){d&1&&u(0,"i",54)}function Q(d,_){if(d&1){let i=M();n(0,"form",19,0),h("ngSubmit",function(){s(i);let e=v(1),r=c();return m(r.onSubmit(e))}),n(2,"div",20)(3,"div",21)(4,"label",22),a(5,"Job Title"),o(),n(6,"input",23),f("ngModelChange",function(e){s(i);let r=c();return p(r.job.title,e)||(r.job.title=e),m(e)}),o()(),n(7,"div",21)(8,"label",24),a(9,"Job Role"),o(),n(10,"input",25),f("ngModelChange",function(e){s(i);let r=c();return p(r.job.role,e)||(r.job.role=e),m(e)}),o()(),n(11,"div",21)(12,"label",26),a(13,"Location"),o(),n(14,"input",27),f("ngModelChange",function(e){s(i);let r=c();return p(r.job.location,e)||(r.job.location=e),m(e)}),o()(),n(15,"div",21)(16,"label",28),a(17,"Employment Type"),o(),n(18,"select",29),f("ngModelChange",function(e){s(i);let r=c();return p(r.job.type,e)||(r.job.type=e),m(e)}),n(19,"option"),a(20,"Full-time"),o(),n(21,"option"),a(22,"Part-time"),o(),n(23,"option"),a(24,"Contract"),o(),n(25,"option"),a(26,"Internship"),o()()(),n(27,"div",21)(28,"label",30),a(29,"Seniority Level"),o(),n(30,"select",31),f("ngModelChange",function(e){s(i);let r=c();return p(r.job.level,e)||(r.job.level=e),m(e)}),n(31,"option"),a(32,"Entry-level"),o(),n(33,"option"),a(34,"Mid-level"),o(),n(35,"option"),a(36,"Senior-level"),o()()(),n(37,"div",32)(38,"label",33),a(39,"Min Salary"),o(),n(40,"input",34),f("ngModelChange",function(e){s(i);let r=c();return p(r.job.salaryMin,e)||(r.job.salaryMin=e),m(e)}),o()(),n(41,"div",32)(42,"label",35),a(43,"Max Salary"),o(),n(44,"input",36),f("ngModelChange",function(e){s(i);let r=c();return p(r.job.salaryMax,e)||(r.job.salaryMax=e),m(e)}),o()(),n(45,"div",21)(46,"label",37),a(47,"Job Status"),o(),n(48,"div",38)(49,"input",39),f("ngModelChange",function(e){s(i);let r=c();return p(r.job.isActive,e)||(r.job.isActive=e),m(e)}),o(),n(50,"label",40)(51,"span",41),a(52),o()()()(),n(53,"div",42)(54,"label",43),a(55,"Job Description"),o(),n(56,"textarea",44),f("ngModelChange",function(e){s(i);let r=c();return p(r.job.description,e)||(r.job.description=e),m(e)}),o()(),n(57,"div",45)(58,"a",46),a(59,"Cancel"),o(),n(60,"div",47)(61,"button",48),h("click",function(){s(i);let e=c();return m(e.toggleJobStatus())}),C(62,H,1,0,"i",49)(63,K,1,0,"i",50),a(64),o(),n(65,"button",51),u(66,"i",52),a(67,"Update Job "),o()()()()()}if(d&2){let i=v(1),t=c();l(6),g("ngModel",t.job.title),l(4),g("ngModel",t.job.role),l(4),g("ngModel",t.job.location),l(4),g("ngModel",t.job.type),l(12),g("ngModel",t.job.level),l(10),g("ngModel",t.job.salaryMin),l(4),g("ngModel",t.job.salaryMax),l(5),g("ngModel",t.job.isActive),l(2),b("ngClass",t.job.isActive?"brand-green-bg":"brand-yellow-bg"),l(),y(" ",t.job.isActive?"Active":"Inactive"," "),l(4),g("ngModel",t.job.description),l(6),b("ngIf",t.job.isActive),l(),b("ngIf",!t.job.isActive),l(),y(" ",t.job.isActive?"Deactivate":"Activate"," Job "),l(),b("disabled",!i.valid||t.loading)}}var ae=(()=>{class d{router;route;apiService;job={id:0,title:"",role:"",location:"",description:"",isActive:!0,salaryMin:0,salaryMax:0,type:"Full-time",level:"Entry-level"};loading=!1;error=null;success=!1;loadingJob=!1;jobId=0;constructor(i,t,e){this.router=i,this.route=t,this.apiService=e}ngOnInit(){this.route.params.subscribe(i=>{this.jobId=+i.id,this.jobId?this.loadJobData():this.error="Invalid job ID"})}loadJobData(){this.loadingJob=!0,this.error=null,this.apiService.getJobById(this.jobId).subscribe({next:i=>{console.log("Job loaded for editing:",i),this.job=i,this.loadingJob=!1},error:i=>{console.error("Error loading job:",i),this.error=`Failed to load job: ${i}`,this.loadingJob=!1,this.loadFallbackJob()}})}loadFallbackJob(){let t=[{id:1,title:"Software Engineer",role:"Tech Corp",location:"Bangalore, India",description:"Develop and maintain web applications using Angular and Spring Boot.",isActive:!0,salaryMin:12e3,salaryMax:3e4,type:"Full-time",level:"Mid-level"},{id:2,title:"Frontend Developer",role:"Web Solutions",location:"Mumbai, India",description:"Create responsive user interfaces using modern web technologies.",isActive:!0,salaryMin:8e3,salaryMax:25e3,type:"Full-time",level:"Entry-level"}].find(e=>e.id===this.jobId);t?(this.job=t,this.error="Loaded from fallback data - API unavailable"):this.error="Job not found"}onSubmit(i){if(i.valid&&this.jobId){this.loading=!0,this.error=null,this.success=!1;let t={title:this.job.title,role:this.job.role,location:this.job.location,description:this.job.description,salaryMin:Number(this.job.salaryMin),salaryMax:Number(this.job.salaryMax),type:this.job.type,level:this.job.level,isActive:this.job.isActive};this.apiService.updateJob(this.jobId,t).subscribe({next:e=>{console.log("Job updated successfully:",e),this.loading=!1,this.success=!0,setTimeout(()=>{this.router.navigate(["/jobs"])},1500)},error:e=>{console.error("Error updating job:",e),this.error=`Failed to update job: ${e}`,this.loading=!1,this.updateLocalStorage()}})}}updateLocalStorage(){try{console.log("Updating job in localStorage as fallback"),this.success=!0,setTimeout(()=>{this.router.navigate(["/jobs"])},1500)}catch(i){console.error("Error updating localStorage:",i),this.error="Failed to update job. Please try again."}}clearError(){this.error=null}toggleJobStatus(){this.job.isActive=!this.job.isActive}static \u0275fac=function(t){return new(t||d)(x(J),x(P),x(q))};static \u0275cmp=w({type:d,selectors:[["app-edit-job"]],decls:14,vars:5,consts:[["editJobForm","ngForm"],[1,"create-job-bg","d-flex","align-items-center","justify-content-center","min-vh-90","w-100"],[1,"create-job-card","p-5","shadow-lg","w-100"],[1,"text-center","mb-4"],[1,"brand-icon","mb-2"],[1,"fas","fa-edit"],[1,"brand-heading","mb-1"],[1,"brand-subheading","mb-3"],["class","alert alert-info",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"alert","alert-info"],[1,"fas","fa-spinner","fa-spin","me-2"],[1,"alert","alert-success"],[1,"fas","fa-check-circle","me-2"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn-close","float-end",3,"click"],[3,"ngSubmit"],[1,"row","g-4"],[1,"col-md-6"],["for","title",1,"form-label"],["type","text","id","title","name","title","placeholder","@eg-Software Developer","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","role",1,"form-label"],["type","text","id","role","name","role","placeholder","@eg-Developer","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","location",1,"form-label"],["type","text","id","location","name","location","placeholder","@eg-Remote","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","type",1,"form-label"],["id","type","name","type",1,"form-select",3,"ngModelChange","ngModel"],["for","level",1,"form-label"],["id","level","name","level",1,"form-select",3,"ngModelChange","ngModel"],[1,"col-md-3"],["for","salaryMin",1,"form-label"],["type","number","id","salaryMin","name","salaryMin","placeholder","@eg-1000","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","salaryMax",1,"form-label"],["type","number","id","salaryMax","name","salaryMax","placeholder","@eg-10000","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-label"],[1,"form-check","form-switch"],["type","checkbox","id","isActive","name","isActive",1,"form-check-input",3,"ngModelChange","ngModel"],["for","isActive",1,"form-check-label"],[1,"badge",3,"ngClass"],[1,"col-12"],["for","description",1,"form-label"],["id","description","name","description","rows","6","placeholder","@eg-This role demands...","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","d-flex","justify-content-between","align-items-center","mt-4"],["routerLink","/jobs",1,"btn","brand-outline-btn"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","fas fa-toggle-on me-1",4,"ngIf"],["class","fas fa-toggle-off me-1",4,"ngIf"],["type","submit",1,"btn","brand-green-btn","px-4",3,"disabled"],[1,"fas","fa-save","me-1"],[1,"fas","fa-toggle-on","me-1"],[1,"fas","fa-toggle-off","me-1"]],template:function(t,e){t&1&&(n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),u(4,"i",5),o(),n(5,"h2",6),a(6,"Edit Job"),o(),n(7,"div",7),a(8,"Update the job details below"),o()(),C(9,U,3,0,"div",8)(10,G,3,0,"div",8)(11,X,3,0,"div",9)(12,Y,4,1,"div",10)(13,Q,68,15,"form",11),o()()),t&2&&(l(9),b("ngIf",e.loadingJob),l(),b("ngIf",e.loading),l(),b("ngIf",e.success),l(),b("ngIf",e.error),l(),b("ngIf",!e.loadingJob))},dependencies:[E,j,S,k,R,L,B,D,I,F,O,N,V,A,z,T,W],styles:[`.create-job-bg[_ngcontent-%COMP%]{background:linear-gradient(120deg,#f3f7fa,#e9f7ef);min-height:90vh;width:100%;z-index:0;display:flex;align-items:center;justify-content:center}.create-job-card[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:28px;box-shadow:0 12px 40px #3c3c3c21,0 2px 8px #3c3c3c17;width:100%;max-width:1100px;padding:3rem 2.5rem;animation:_ngcontent-%COMP%_fadeInUp .7s cubic-bezier(.39,.575,.565,1) both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:none}}.brand-heading[_ngcontent-%COMP%]{color:#d2f55b;font-weight:700;letter-spacing:1px;font-size:2.1rem}.brand-subheading[_ngcontent-%COMP%]{color:#888;font-size:1.1rem;font-weight:400}.brand-icon[_ngcontent-%COMP%]{background:#cad2ff;color:#222;width:54px;height:54px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;margin:0 auto .5rem}.brand-green-btn[_ngcontent-%COMP%]{background:#d2f55b;color:#222;border:none;border-radius:8px;font-weight:600;transition:background .2s;box-shadow:0 2px 8px #d2f55b14}.brand-green-btn[_ngcontent-%COMP%]:hover{background:#cad2ff;color:#222}.brand-green-btn[_ngcontent-%COMP%]:disabled{background:#e0e0e0;color:#999;cursor:not-allowed}.brand-outline-btn[_ngcontent-%COMP%]{border:2px solid rgb(210,245,91);color:#d2f55b;background:transparent;border-radius:8px;font-weight:600;transition:background .2s,color .2s}.brand-outline-btn[_ngcontent-%COMP%]:hover{background:#d2f55b;color:#222}.brand-green-bg[_ngcontent-%COMP%]{background:#75f55b!important;color:#000000b2!important}.brand-yellow-bg[_ngcontent-%COMP%]{background:#e4ee5dc5!important;color:#000000b2!important}.brand-purple-bg[_ngcontent-%COMP%]{background:#cad2ffcc!important;color:#000000b2!important}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#444}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #e0e0e0;background:#f8fafd;font-size:1rem;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#d2f55b;box-shadow:0 0 0 2px #d2f55b26}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f8f9fa!important;cursor:not-allowed}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#d2f55b;border-color:#d2f55b}.form-check-input[_ngcontent-%COMP%]:focus{border-color:#d2f55b;box-shadow:0 0 0 .25rem #d2f55b40}.badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.375rem .75rem;border-radius:6px;font-weight:500}.alert[_ngcontent-%COMP%]{border-radius:8px;border:none;padding:1rem 1.25rem;margin-bottom:1.5rem}.alert-info[_ngcontent-%COMP%]{background-color:#cad2ff26;color:#0c5460;border-left:4px solid rgb(202,210,255)}.alert-success[_ngcontent-%COMP%]{background-color:#d2f55b26;color:#0f5132;border-left:4px solid rgb(210,245,91)}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7dacc;color:#721c24;border-left:4px solid #dc3545}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1rem;opacity:.7}.btn-close[_ngcontent-%COMP%]:hover{opacity:1}.btn-outline-secondary[_ngcontent-%COMP%]{border:2px solid #6c757d;color:#6c757d;background:transparent;border-radius:8px;font-weight:500;transition:all .2s}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#6c757d;color:#fff}textarea#description[_ngcontent-%COMP%]{resize:none;min-height:140px}.fa-spinner.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite linear}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 900px){.create-job-card[_ngcontent-%COMP%]{max-width:98vw;padding:2rem 1rem;margin:1rem}.brand-heading[_ngcontent-%COMP%]{font-size:1.8rem}.d-flex.justify-content-between[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.d-flex.gap-2[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 576px){.col-md-3[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%]{margin-bottom:1rem}.d-flex.gap-2[_ngcontent-%COMP%]{flex-direction:column;width:100%}.d-flex.gap-2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}
/*# sourceMappingURL=edit-job.component-P5PXNTBL.css.map */`]})}return d})();export{ae as EditJobComponent};
//# sourceMappingURL=chunk-XJ5PGWAV.js.map
