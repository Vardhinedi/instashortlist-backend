import{c as M,f as S,i as P,j as b}from"./chunk-YXC3A2TB.js";import{Da as u,Ha as g,Mb as C,Nb as y,Oa as s,Ob as w,Qb as O,Sa as t,Ta as i,Ua as r,Za as m,db as a,eb as f,fb as p,nb as h,ob as _,ua as o,ya as v}from"./chunk-JEWXIX7B.js";var j=(n,d)=>({"brand-green-bg":n,"brand-yellow-bg":d}),E=(n,d)=>({"fa-check-circle":n,"fa-pause-circle":d}),I=n=>["/jobs/edit-job",n];function k(n,d){n&1&&(t(0,"div",4)(1,"div",5),r(2,"div",6),t(3,"p",7),a(4,"Loading job details..."),i()()())}function J(n,d){if(n&1&&(t(0,"div",8)(1,"div",9),r(2,"i",10),a(3),i()()),n&2){let e=m();o(3),p("",e.error," ")}}function z(n,d){if(n&1&&(t(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"div",15)(5,"span",16),r(6,"i",17),i(),t(7,"div")(8,"h1",18),a(9),i(),t(10,"div",19)(11,"span",20),r(12,"i",21),a(13),i(),t(14,"span",22),r(15,"i",23),a(16),i()()()()(),t(17,"div",24)(18,"a",25),r(19,"i",26),a(20,"Back "),i(),t(21,"a",27),r(22,"i",28),a(23,"Edit Job "),i()()()(),t(24,"div",29)(25,"div",30)(26,"div",31)(27,"div",32),r(28,"i",33),i(),t(29,"div")(30,"div",34),a(31,"Department"),i(),t(32,"div",35),a(33),i()()()(),t(34,"div",30)(35,"div",31)(36,"div",36),r(37,"i",37),i(),t(38,"div")(39,"div",34),a(40,"Level"),i(),t(41,"div",35),a(42),i()()()(),t(43,"div",30)(44,"div",31)(45,"div",38),r(46,"i",39),i(),t(47,"div")(48,"div",34),a(49,"Type"),i(),t(50,"div",35),a(51),i()()()(),t(52,"div",30)(53,"div",31)(54,"div",40),r(55,"i",41),i()()()(),t(56,"div",42)(57,"div",43)(58,"div",44),r(59,"i",45),i(),t(60,"div")(61,"h5",46),a(62,"Salary Range"),i(),t(63,"div",47)(64,"span",48),a(65),i(),t(66,"span",49),a(67,"-"),i(),t(68,"span",48),a(69),i(),t(70,"span",50),a(71,"per year"),i()()()()(),t(72,"div",51)(73,"div",15)(74,"div",52),r(75,"i",53),i(),t(76,"h4",54),a(77,"Job Description"),i()(),t(78,"div",55)(79,"div",56),a(80),i()()()()),n&2){let e=m();o(9),f(e.job.title),o(2),s("ngClass",_(12,j,e.job.isActive===!0,e.job.isActive===!1)),o(),s("ngClass",_(15,E,e.job.isActive===!0,e.job.isActive===!1)),o(),p(" ",e.job.isActive?"Active":"Inactive"," "),o(3),p(" ",e.job.location," "),o(5),s("routerLink",h(18,I,e.job.id)),o(12),f(e.job.role),o(9),f(e.job.level),o(9),f(e.job.type),o(14),p("$",e.job.salaryMin.toLocaleString(),""),o(4),p("$",e.job.salaryMax.toLocaleString(),""),o(11),f(e.job.description)}}function A(n,d){n&1&&(t(0,"div",62),r(1,"div",63),t(2,"p",64),a(3,"Loading assessment steps..."),i()())}function V(n,d){if(n&1&&(t(0,"div",65),r(1,"i",10),a(2),i()),n&2){let e=m(2);o(2),p("",e.stepsError," ")}}function T(n,d){if(n&1&&(t(0,"div",79)(1,"div",80),r(2,"i",81),t(3,"strong"),a(4,"Question:"),i()(),t(5,"div",82),a(6),i()()),n&2){let e=m().$implicit;o(6),p(" ",e.question," ")}}function L(n,d){if(n&1&&(t(0,"div",88)(1,"div",43)(2,"span",89),a(3),i(),t(4,"span"),a(5),i()()()),n&2){let e=d.$implicit,l=d.index,c=m(5);o(3),p(" ",c.getOptionLetter(l)," "),o(2),f(e.trim())}}function F(n,d){if(n&1&&(t(0,"div",83)(1,"div",84),r(2,"i",85),t(3,"strong"),a(4,"Options:"),i()(),t(5,"div",86),g(6,L,6,2,"div",87),i()()),n&2){let e=m().$implicit;o(6),s("ngForOf",e.options.split(","))}}function q(n,d){if(n&1&&(t(0,"div",90)(1,"div",91),r(2,"i",92),t(3,"strong"),a(4,"Correct Answer:"),i()(),t(5,"div",93),a(6),i()()),n&2){let e=m().$implicit;o(6),p(" ",e.correctAnswer," ")}}function $(n,d){if(n&1&&(t(0,"div",94)(1,"span",95),r(2,"i",96),a(3),i()()),n&2){let e=m().$implicit;o(3),p(" ",e.type," ")}}function N(n,d){if(n&1&&(t(0,"div",69)(1,"div",70)(2,"div",71)(3,"div",72)(4,"span",73),a(5),i()(),t(6,"div",14)(7,"h5",74),a(8),i(),g(9,T,7,1,"div",75)(10,F,7,1,"div",76)(11,q,7,1,"div",77)(12,$,4,1,"div",78),i()()()()),n&2){let e=d.$implicit;o(5),p(" ",e.stepOrder," "),o(3),f(e.stepName),o(),s("ngIf",e.question),o(),s("ngIf",e.options),o(),s("ngIf",e.correctAnswer),o(),s("ngIf",e.type)}}function R(n,d){if(n&1&&(t(0,"div",66)(1,"div",67),g(2,N,13,6,"div",68),i()()),n&2){let e=m(2);o(2),s("ngForOf",e.assessmentSteps)}}function D(n,d){n&1&&(t(0,"div",97)(1,"div",98),r(2,"i",99),a(3," No assessment steps found for this job role. "),i()())}function Y(n,d){if(n&1&&(t(0,"div",11)(1,"div",15)(2,"div",52),r(3,"i",57),i(),t(4,"h4",54),a(5,"Assessment Steps"),i()(),g(6,A,4,0,"div",58)(7,V,3,1,"div",59)(8,R,3,1,"div",60)(9,D,4,0,"div",61),i()),n&2){let e=m();o(6),s("ngIf",e.loadingSteps),o(),s("ngIf",e.stepsError),o(),s("ngIf",!e.loadingSteps&&!e.stepsError&&e.assessmentSteps.length>0),o(),s("ngIf",!e.loadingSteps&&!e.stepsError&&e.assessmentSteps.length===0)}}function U(n,d){if(n&1&&(t(0,"div",8)(1,"div",100)(2,"div",101),r(3,"i",99),t(4,"span"),a(5),i()(),t(6,"div",24)(7,"a",102),r(8,"i",103),a(9,"View Candidates "),i()()()()),n&2){let e=m();o(5),p("Job ID: ",e.job.id,"")}}var X=(()=>{class n{route;apiService;job=null;loading=!0;error=null;assessmentSteps=[];loadingSteps=!1;stepsError=null;constructor(e,l){this.route=e,this.apiService=l}ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("id"));this.apiService.getJobById(e).subscribe({next:l=>{this.job=l,this.loading=!1,this.loadAssessmentSteps(l.role)},error:l=>{let c=b.getFallbackJobs().find(x=>x.id===e);c?(this.job=c,this.error="Showing fallback job data (API unavailable)",this.loadAssessmentSteps(c.role)):this.error="Job not found (API unavailable)",this.loading=!1}})}loadAssessmentSteps(e){this.loadingSteps=!0,this.stepsError=null,this.apiService.getAssessmentTemplatesByRole(e).subscribe({next:l=>{this.assessmentSteps=l.sort((c,x)=>c.stepOrder-x.stepOrder),this.loadingSteps=!1},error:l=>{console.error("Error loading assessment steps:",l),this.stepsError="Failed to load assessment steps",this.loadingSteps=!1,this.assessmentSteps=[]}})}getOptionLetter(e){return String.fromCharCode(65+e)}static \u0275fac=function(l){return new(l||n)(v(M),v(b))};static \u0275cmp=u({type:n,selectors:[["app-view-job"]],decls:6,vars:5,consts:[[1,"container","mt-4","jobs-bg"],["class","text-center py-5",4,"ngIf"],["class","jobs-floating-container p-4",4,"ngIf"],["class","jobs-floating-container p-4 mb-4",4,"ngIf"],[1,"text-center","py-5"],[1,"jobs-floating-container","p-5"],["role","status",1,"spinner-border","text-primary",2,"width","3rem","height","3rem"],[1,"mt-3","text-muted","fs-5"],[1,"jobs-floating-container","p-4"],[1,"alert","alert-danger","mb-0","border-0",2,"background-color","#f8d7da","border-radius","12px"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"jobs-floating-container","p-4","mb-4"],[1,"top-bar","mb-4"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"flex-grow-1"],[1,"d-flex","align-items-center","mb-3"],[1,"job-icon","me-3"],[1,"fas","fa-code"],[1,"fw-bold","mb-1",2,"font-size","1.8rem","color","#222"],[1,"d-flex","align-items-center","gap-3","mt-2"],[1,"badge","job-status-badge",3,"ngClass"],[1,"fas",2,"font-size","0.8rem",3,"ngClass"],[1,"badge","text-dark","location-badge"],[1,"fas","fa-map-marker-alt","me-1",2,"font-size","0.8rem"],[1,"d-flex","gap-2"],["routerLink","/jobs",1,"btn","btn-outline-secondary",2,"border-radius","8px"],[1,"fas","fa-arrow-left","me-1"],[1,"btn","brand-green-btn",3,"routerLink"],[1,"fas","fa-edit","me-1"],[1,"row","mb-4"],[1,"col-md-3","mb-3"],[1,"info-card"],[1,"info-card-icon","brand-purple-bg"],[1,"fas","fa-building"],[1,"info-card-label"],[1,"info-card-value"],[1,"info-card-icon","brand-green-bg"],[1,"fas","fa-layer-group"],[1,"info-card-icon","brand-yellow-bg"],[1,"fas","fa-clock"],[1,"info-card-icon",2,"background-color","#e3f2fd","color","#1976d2"],[1,"fas","fa-users"],[1,"salary-section","mb-4","p-4",2,"background","linear-gradient(135deg, #f8f9ff 0%, #e8f5e8 100%)","border-radius","16px","border","1px solid #e2e8f0"],[1,"d-flex","align-items-center"],[1,"salary-icon","me-3"],[1,"fas","fa-dollar-sign"],[1,"mb-1","fw-bold",2,"color","#222"],[1,"salary-range"],[1,"salary-amount"],[1,"mx-2",2,"color","#666"],[1,"text-muted","ms-2"],[1,"description-section"],[1,"section-icon","me-2"],[1,"fas","fa-file-text"],[1,"mb-0","fw-bold",2,"color","#222"],[1,"description-content","p-4",2,"background","#f8f9fa","border-radius","12px","border-left","4px solid rgb(210, 245, 91)"],[2,"white-space","pre-line","line-height","1.6","color","#555"],[1,"fas","fa-clipboard-check"],["class","text-center py-4",4,"ngIf"],["class","alert alert-warning","style","border-radius: 12px;",4,"ngIf"],["class","steps-container",4,"ngIf"],["class","no-steps-message text-center py-4",4,"ngIf"],[1,"text-center","py-4"],["role","status",1,"spinner-border","text-primary",2,"width","2rem","height","2rem"],[1,"mt-2","text-muted"],[1,"alert","alert-warning",2,"border-radius","12px"],[1,"steps-container"],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"assessment-step-card","mb-3","p-4",2,"background","linear-gradient(135deg, #f8f9ff 0%, #fff 100%)","border-radius","16px","border","1px solid #e2e8f0","transition","all 0.3s ease"],[1,"d-flex","align-items-start"],[1,"step-number-badge","me-3"],[1,"badge","rounded-pill",2,"background","linear-gradient(135deg, #667eea 0%, #764ba2 100%)","color","white","width","35px","height","35px","display","flex","align-items","center","justify-content","center","font-weight","bold"],[1,"mb-2","fw-bold",2,"color","#222"],["class","question-section mb-3",4,"ngIf"],["class","options-section mb-3",4,"ngIf"],["class","correct-answer-section mb-3",4,"ngIf"],["class","type-section",4,"ngIf"],[1,"question-section","mb-3"],[1,"question-label","mb-2"],[1,"fas","fa-question-circle","me-2",2,"color","#667eea"],[1,"question-text","p-3",2,"background","#f8f9fa","border-radius","8px","border-left","4px solid #667eea"],[1,"options-section","mb-3"],[1,"options-label","mb-2"],[1,"fas","fa-list","me-2",2,"color","#28a745"],[1,"options-list"],["class","option-item mb-2",4,"ngFor","ngForOf"],[1,"option-item","mb-2"],[1,"option-letter","me-2",2,"background","#e9ecef","border-radius","50%","width","25px","height","25px","display","flex","align-items","center","justify-content","center","font-size","12px","font-weight","bold"],[1,"correct-answer-section","mb-3"],[1,"answer-label","mb-2"],[1,"fas","fa-check-circle","me-2",2,"color","#28a745"],[1,"answer-text","p-2",2,"background","#d4edda","border-radius","8px","border-left","4px solid #28a745","color","#155724"],[1,"type-section"],[1,"badge",2,"background","linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%)","color","#2d3436","border-radius","20px","padding","8px 16px"],[1,"fas","fa-tag","me-1"],[1,"no-steps-message","text-center","py-4"],[1,"text-muted"],[1,"fas","fa-info-circle","me-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","text-muted"],["routerLink","/candidates",1,"btn","btn-outline-success",2,"border-radius","8px"],[1,"fas","fa-eye","me-1"]],template:function(l,c){l&1&&(t(0,"div",0),g(1,k,5,0,"div",1)(2,J,4,1,"div",2)(3,z,81,20,"div",3)(4,Y,10,4,"div",3)(5,U,10,1,"div",2),i()),l&2&&(o(),s("ngIf",c.loading),o(),s("ngIf",c.error),o(),s("ngIf",!c.loading&&c.job),o(),s("ngIf",!c.loading&&c.job),o(),s("ngIf",!c.loading&&c.job))},dependencies:[O,C,y,w,P,S],styles:[`.jobs-bg[_ngcontent-%COMP%]{background:transparent!important}.job-card[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:16px;box-shadow:0 2px 12px #3c3c3c0f;min-height:220px;transition:box-shadow .2s}.job-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 24px #3c3c3c1f}.job-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#d2f55b;color:#222;display:flex;align-items:center;justify-content:center;font-size:1.3rem;padding:15px}.brand-green-bg[_ngcontent-%COMP%]{background:#d1f55b9f!important;color:#222!important}.brand-green-btn[_ngcontent-%COMP%]{background:#d2f55b!important;color:#222!important;border:none;font-weight:600;border-radius:8px}.job-status-badge[_ngcontent-%COMP%]{font-size:.95rem;border-radius:8px;padding:4px 12px}.job-meta[_ngcontent-%COMP%]{font-size:.97rem;color:#555}.layout-toggle.active[_ngcontent-%COMP%], .layout-toggle[_ngcontent-%COMP%]:focus{background:#d2f55b!important;color:#222!important}.layout-toggle[_ngcontent-%COMP%]{border-radius:8px;border:none;background:#f4f4f4;color:#888}.brand-green-bg[_ngcontent-%COMP%]{background:#75f55b!important;color:#000000b2!important}.brand-yellow-bg[_ngcontent-%COMP%]{background:#e4ee5dc5!important;color:#000000b2!important}.brand-purple-bg[_ngcontent-%COMP%]{background:#cad2ffcc!important;color:#000000b2!important}.jobs-floating-container[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:18px;box-shadow:0 8px 32px #3c3c3c14,0 1.5px 4px #3c3c3c0f}.top-bar[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:1px solid #99989885}.form-control[_ngcontent-%COMP%]{background-color:#f3f2f2b9;border:1px solid #838282}.job-table-view[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;background:#fdfdfd;box-shadow:0 2px 12px #3c3c3c0f}.job-icon-table[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;background:#d2f55b;color:#222;display:inline-flex;align-items:center;justify-content:center;font-size:1rem}.job-table-view[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.table-head[_ngcontent-%COMP%]{background-color:#cad2ff!important}.job-table-view[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cad2ff!important;color:#222!important;border-bottom:2px solid #e2e1e1;font-weight:600;padding-top:20px;padding-bottom:20px;vertical-align:middle}.job-table-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}
/*# sourceMappingURL=jobs.component-EMD2V4QZ.css.map */`,`.info-card[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:12px;padding:1.5rem;border:1px solid #e2e8f0;display:flex;align-items:center;gap:1rem;transition:all .2s ease;height:100%}.info-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #3c3c3c1a}.info-card-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;flex-shrink:0}.info-card-label[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-weight:500;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.info-card-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#222}.salary-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff;border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;box-shadow:0 4px 12px #22c55e40}.salary-amount[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#059669}.section-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:#cad2ff;color:#222;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1rem}.description-content[_ngcontent-%COMP%]{position:relative;overflow:hidden}.description-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(to bottom,#d2f55b,#d2f55b80)}.location-badge[_ngcontent-%COMP%]{background-color:#f1f5f9!important;color:#475569!important;border-radius:8px;padding:6px 12px;font-weight:500;border:1px solid #e2e8f0}.job-status-badge[_ngcontent-%COMP%]{font-size:.9rem;border-radius:8px;padding:6px 14px;font-weight:600;display:inline-flex;align-items:center;gap:6px}.jobs-floating-container[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{border-color:#d2f55b;border-right-color:transparent}.btn[_ngcontent-%COMP%]{font-weight:600;padding:8px 20px;transition:all .2s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.brand-green-btn[_ngcontent-%COMP%]:hover{background:#bee147!important;box-shadow:0 4px 12px #d2f55b4d}.assessment-step-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a!important}.section-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:16px}.question-text[_ngcontent-%COMP%]{line-height:1.6;color:#555}.option-item[_ngcontent-%COMP%]{padding:8px 0;border-bottom:1px solid #f1f1f1}.option-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.info-card[_ngcontent-%COMP%]{padding:1rem}.info-card-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1rem}.salary-icon[_ngcontent-%COMP%]{width:48px;height:48px;font-size:1.2rem}.salary-amount[_ngcontent-%COMP%]{font-size:1.2rem}.top-bar[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important;gap:1rem}.top-bar[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:100%;justify-content:stretch}.top-bar[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn[_ngcontent-%COMP%]{flex:1}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.info-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out forwards}.info-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.info-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.info-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.info-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}
/*# sourceMappingURL=view-job.component-53MQKNPK.css.map */`]})}return n})();export{X as ViewJobComponent};
//# sourceMappingURL=chunk-7LL4VSS6.js.map
