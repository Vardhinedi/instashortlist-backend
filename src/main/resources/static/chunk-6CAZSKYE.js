import{f as w,j as m}from"./chunk-XP7GFRGV.js";import{Ea as C,Ia as c,Ob as O,Pa as d,Pb as h,Ra as b,Rb as M,Ta as n,Ua as i,Va as x,Za as _,_a as g,eb as o,fb as f,gb as p,hb as u,va as s,za as v}from"./chunk-RXLJ6G3Z.js";function y(t,a){t&1&&(n(0,"div",13)(1,"div",14)(2,"span",15),o(3,"Loading..."),i()()())}function S(t,a){if(t&1&&(n(0,"div",16),o(1),i()),t&2){let e=g();s(),f(e.error)}}function k(t,a){if(t&1&&(n(0,"li",34)(1,"div",35)(2,"span",36),o(3),i(),n(4,"span"),o(5),i()(),n(6,"div",37),o(7),i()()),t&2){let e=a.$implicit;s(3),p("Step No : ",e.stepOrder,""),s(2),f(e.stepName),s(2),u("Mode: ",e.mode," | Passing: ",e.passingCriteria,"")}}function E(t,a){if(t&1&&(n(0,"div",23)(1,"div",24)(2,"div")(3,"div",25),o(4),i(),n(5,"div",26)(6,"span",27),o(7),i()()(),n(8,"div",28)(9,"ul",29),c(10,k,8,4,"li",30),i()(),n(11,"div",31)(12,"button",32),o(13,"Edit"),i(),n(14,"button",33),o(15,"Delete"),i()()()()),t&2){let e=a.$implicit;s(4),f(e.title),s(3),p("Total Steps: ",e.steps.length,""),s(3),d("ngForOf",e.steps)}}function I(t,a){t&1&&(n(0,"div",38),o(1,"No assessments found."),i())}function A(t,a){if(t&1&&(n(0,"div",20),c(1,E,16,3,"div",21)(2,I,2,0,"div",22),i()),t&2){let e=g(2);s(),d("ngForOf",e.assessmentsByTitle),s(),d("ngIf",e.assessmentsByTitle.length===0)}}function T(t,a){if(t&1&&(n(0,"li",48)(1,"div",49),o(2),n(3,"span",50),o(4),i()(),n(5,"div",37),o(6),i()()),t&2){let e=a.$implicit;s(2),p("",e.stepName," "),s(2),p("Order: ",e.stepOrder,""),s(2),u("Mode: ",e.mode," | Passing: ",e.passingCriteria,"")}}function j(t,a){if(t&1&&(n(0,"div",41)(1,"div",42)(2,"div",43),o(3),i(),n(4,"div")(5,"button",44),o(6,"Edit"),i(),n(7,"button",45),o(8,"Delete"),i()()(),n(9,"ul",46),c(10,T,7,4,"li",47),i()()),t&2){let e=a.$implicit;s(3),p(" ",e.title," "),s(7),d("ngForOf",e.steps)}}function F(t,a){t&1&&(n(0,"div",38),o(1,"No assessments found."),i())}function J(t,a){if(t&1&&(n(0,"div",39),c(1,j,11,2,"div",40)(2,F,2,0,"div",22),i()),t&2){let e=g(2);s(),d("ngForOf",e.assessmentsByTitle),s(),d("ngIf",e.assessmentsByTitle.length===0)}}function V(t,a){if(t&1&&(n(0,"div",17),c(1,A,3,2,"div",18)(2,J,3,2,"div",19),i()),t&2){let e=g();s(),d("ngIf",e.isGridView),s(),d("ngIf",!e.isGridView)}}var L=(()=>{class t{apiService;isGridView=!0;assessments=[];jobs=[];loading=!1;error=null;constructor(e){this.apiService=e}ngOnInit(){this.fetchJobs(),this.fetchAssessments()}fetchJobs(){this.apiService.getJobs().subscribe({next:e=>{this.jobs=e},error:()=>{this.jobs=m.getFallbackJobs?m.getFallbackJobs():[]}})}getJobById(e){return this.jobs.find(r=>r.id===e)}getJobTitle(e){return this.getJobById(e)?.title||`Job #${e}`}getJobRole(e){return this.getJobById(e)?.role||""}fetchAssessments(){this.loading=!0,this.apiService.getAssessments().subscribe({next:e=>{e&&e.length>0?this.assessments=e:this.assessments=m.getFallbackAssessments(),this.loading=!1},error:e=>{this.assessments=m.getFallbackAssessments(),this.loading=!1,this.assessments.length===0&&(this.error=e)}})}get assessmentsByTitle(){let e=new Map;for(let r of this.assessments)e.has(r.title)||e.set(r.title,[]),e.get(r.title).push(r);return Array.from(e.entries()).map(([r,l])=>({title:r,steps:l}))}toggleView(e){this.isGridView=e}static \u0275fac=function(r){return new(r||t)(v(m))};static \u0275cmp=C({type:t,selectors:[["app-assessments"]],decls:15,vars:7,consts:[[1,"container","mt-4","assessments-bg"],[1,"assessments-floating-container-heading","p-4","mb-4"],[1,"top-bar","d-flex","flex-wrap","justify-content-between","align-items-center","mb-3","gap-3"],[1,"fw-bold","mb-0"],[1,"d-flex","gap-2","ms-auto"],["routerLink","/assessments/create-assessment",1,"btn","brand-green-btn"],["title","Grid View",1,"btn","layout-toggle",3,"click"],[1,"fas","fa-th"],["title","Table View",1,"btn","layout-toggle",3,"click"],[1,"fas","fa-list"],["class","text-center my-5",4,"ngIf"],["class","alert alert-danger text-center",4,"ngIf"],["class","assessments-floating-container",4,"ngIf"],[1,"text-center","my-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-danger","text-center"],[1,"assessments-floating-container"],["class","row g-4 d-flex align-items-stretch flex-wrap",4,"ngIf"],["class","job-cards-list",4,"ngIf"],[1,"row","g-4","d-flex","align-items-stretch","flex-wrap"],["class","col-md-4 d-flex",4,"ngFor","ngForOf"],["class","text-center text-muted w-100",4,"ngIf"],[1,"col-md-4","d-flex"],[1,"assessment-card","p-3","shadow-sm","h-100","w-100","d-flex","flex-column"],[1,"fw-bold","fs-5","mb-1"],[1,"mb-2"],[1,"badge","custom-badge"],[1,"flex-grow-1","d-flex","flex-column","justify-content-center"],[1,"list-group","list-group-flush","mb-2"],["class","list-group-item px-0 py-1",4,"ngFor","ngForOf"],[1,"d-flex","gap-2","mt-3","w-100"],[1,"btn","btn-outline-primary","btn-sm","flex-fill"],[1,"btn","btn-outline-danger","btn-sm","flex-fill"],[1,"list-group-item","px-0","py-1"],[1,"d-flex","align-items-center","fw-semibold"],[1,"badge","bg-secondary","ms-2","me-2"],[1,"small","text-muted"],[1,"text-center","text-muted","w-100"],[1,"job-cards-list"],["class","job-card mb-4",4,"ngFor","ngForOf"],[1,"job-card","mb-4"],[1,"job-card-header","d-flex","justify-content-between","align-items-center"],[1,"fw-bold","fs-5"],[1,"btn","btn-outline-primary","btn-sm","me-2"],[1,"btn","btn-outline-danger","btn-sm"],[1,"list-group","list-group-flush","mt-3"],["class","list-group-item px-0 py-2",4,"ngFor","ngForOf"],[1,"list-group-item","px-0","py-2"],[1,"fw-semibold"],[1,"badge","bg-secondary","ms-2"]],template:function(r,l){r&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o(4,"Assessments"),i(),n(5,"div",4)(6,"button",5),o(7,"Create Assessment"),i(),n(8,"button",6),_("click",function(){return l.toggleView(!0)}),x(9,"i",7),i(),n(10,"button",8),_("click",function(){return l.toggleView(!1)}),x(11,"i",9),i()()()(),c(12,y,4,0,"div",10)(13,S,2,1,"div",11)(14,V,3,2,"div",12),i()),r&2&&(s(8),b("active",l.isGridView),s(2),b("active",!l.isGridView),s(2),d("ngIf",l.loading),s(),d("ngIf",l.error),s(),d("ngIf",!l.loading&&!l.error))},dependencies:[M,O,h,w],styles:[`.assessments-bg[_ngcontent-%COMP%]{background:transparent!important}.assessments-floating-container-heading[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:18px;box-shadow:0 8px 32px #3c3c3c14,0 1.5px 4px #3c3c3c0f;margin-bottom:24px}.assessments-floating-container[_ngcontent-%COMP%]{background:transparent!important;border-radius:18px;margin-bottom:24px}.top-bar[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:1px solid #99989885}.brand-green-btn[_ngcontent-%COMP%]{background:#d2f55b!important;color:#222!important;border:none;font-weight:600;border-radius:8px}.layout-toggle.active[_ngcontent-%COMP%], .layout-toggle[_ngcontent-%COMP%]:focus{background:#d2f55b!important;color:#222!important}.layout-toggle[_ngcontent-%COMP%]{border-radius:8px;border:none;background:#f4f4f4;color:#888}.assessment-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #3c3c3c14,0 1.5px 4px #3c3c3c0f;transition:box-shadow .2s;cursor:pointer;min-height:320px;display:flex;flex-direction:column}.assessment-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #3c3c3c1f,0 3px 8px #3c3c3c1a}.assessments-table-view[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;background:#fdfdfd;box-shadow:0 2px 12px #3c3c3c0f}.assessments-table-view[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .assessments-table-view[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.assessments-table-view[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#cad2ff!important;color:#222!important;border-bottom:2px solid #e2e1e1;font-weight:600;padding-top:20px;padding-bottom:20px;vertical-align:middle}.assessments-table-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}.assessments-table-view[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .15s}.assessments-table-view[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f0f4ff}.assessments-table-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #3c3c3c0a;margin-bottom:18px;border-bottom:2px solid #f0f4ff}.assessments-table-view[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;padding-top:24px;padding-bottom:24px;border:none}.assessments-table-view[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]{width:1%;white-space:nowrap;text-align:center;vertical-align:middle;padding:24px 8px;max-width:120px}.assessments-table-view[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{gap:.5rem;justify-content:center}.assessments-table-view[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:60px;padding-left:.75rem;padding-right:.75rem}.assessments-table-view[_ngcontent-%COMP%]   .fw-bold[_ngcontent-%COMP%]{font-size:1.1rem;color:#222}.assessments-table-view[_ngcontent-%COMP%]   ul.list-group[_ngcontent-%COMP%]{background:#f8faff;border-radius:8px;padding:12px 16px;margin-bottom:0}.assessments-table-view[_ngcontent-%COMP%]   ul.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background:transparent;border:none;padding-left:0;padding-right:0}.assessments-table-view[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ccd6ff!important;color:#222!important;font-weight:600;font-size:1.05rem;border:none}.job-cards-list[_ngcontent-%COMP%]{padding:0 8px}.job-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 2px 12px #3c3c3c14;padding:24px 28px 18px;margin-bottom:28px;transition:box-shadow .2s,border .2s;border:1.5px solid #e6e6e6}.job-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 24px #3c3c3c21;border:1.5px solid #b3c6ff}.job-card-header[_ngcontent-%COMP%]{border-bottom:1px solid #e6e6e6;padding-bottom:10px;margin-bottom:8px}.job-card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{background:#f8faff;border-radius:8px;margin-bottom:0;padding:12px 16px}.job-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background:transparent;border:none;border-bottom:1px solid #f0f0f0;padding-left:0;padding-right:0}.job-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.job-card[_ngcontent-%COMP%]   .fw-bold.fs-5[_ngcontent-%COMP%]{color:#2a2a2a;letter-spacing:.5px}.job-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:60px;padding-left:.75rem;padding-right:.75rem}.custom-badge[_ngcontent-%COMP%]{background-color:#cad2ff;color:#000;font-weight:600;font-size:.95rem}.list-group-item[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.95rem;vertical-align:middle}
/*# sourceMappingURL=assessments.component-TBOYOHJT.css.map */`]})}return t})();export{L as AssessmentsComponent};
//# sourceMappingURL=chunk-6CAZSKYE.js.map
