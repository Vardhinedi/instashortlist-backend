import{b as F,d as I,e as z,f as B,g as W,h as L,i as j,p as R,q,r as U,u as Y}from"./chunk-QENRJ74P.js";import{f as D,j as H}from"./chunk-XP7GFRGV.js";import{$a as M,Ea as A,Ia as b,Ob as T,Pa as u,Pb as E,Ra as O,Rb as V,Ta as o,Ua as s,Va as g,Ya as v,Z as c,Za as f,_ as m,_a as l,a as S,b as P,eb as a,gb as h,jb as x,kb as w,lb as C,ua as k,va as r,za as N}from"./chunk-RXLJ6G3Z.js";function G(d,_){d&1&&(o(0,"div",24),g(1,"i",25),a(2,"Creating assessment... "),s())}function X(d,_){d&1&&(o(0,"div",26),g(1,"i",27),a(2,"Assessment created successfully! "),s())}function J(d,_){if(d&1&&(o(0,"div",28),g(1,"i",29),a(2),s()),d&2){let e=l();r(2),h("",e.error," ")}}function K(d,_){if(d&1){let e=v();o(0,"div",53),f("click",function(){let n=c(e).$implicit,i=l().index,p=l();return m(p.selectStepOption(n,i))}),a(1),s()}if(d&2){let e=_.$implicit;r(),h(" ",e," ")}}function Q(d,_){if(d&1){let e=v();o(0,"div",53),f("click",function(){let n=c(e).$implicit,i=l().index,p=l();return m(p.selectModeOption(n,i))}),a(1),s()}if(d&2){let e=_.$implicit;r(),h(" ",e," ")}}function Z(d,_){if(d&1){let e=v();o(0,"div",30)(1,"div",31)(2,"button",32),f("click",function(){let n=c(e).index,i=l();return m(i.removeStep(n))}),g(3,"i",33),s(),o(4,"div",34)(5,"div",35)(6,"div",36)(7,"div",37)(8,"label",13),a(9,"Step"),s(),o(10,"div",38),a(11),s()(),o(12,"div",39)(13,"div",40)(14,"label",13),a(15,"Step Title "),o(16,"span",14),a(17,"*"),s()(),o(18,"div",41)(19,"input",42),C("ngModelChange",function(n){let i=c(e).$implicit;return w(i.stepName,n)||(i.stepName=n),m(n)}),f("focus",function(){let n=c(e).index,i=l();return m(i.toggleStepDropdown(n,!0))})("input",function(n){let i=c(e).index,p=l();return m(p.filterStepOptions(n,i))}),s(),o(20,"div",43),g(21,"i",44),s(),o(22,"div",45),b(23,K,2,1,"div",46),s()()(),o(24,"div",40)(25,"label",13),a(26,"Mode "),o(27,"span",14),a(28,"*"),s()(),o(29,"div",41)(30,"input",47),C("ngModelChange",function(n){let i=c(e).$implicit;return w(i.mode,n)||(i.mode=n),m(n)}),f("focus",function(){let n=c(e).index,i=l();return m(i.toggleModeDropdown(n,!0))})("input",function(n){let i=c(e).index,p=l();return m(p.filterModeOptions(n,i))}),s(),o(31,"div",43),g(32,"i",44),s(),o(33,"div",45),b(34,Q,2,1,"div",46),s()()(),o(35,"div",40)(36,"label",13),a(37,"Pass % "),o(38,"span",14),a(39,"*"),s()(),o(40,"input",48),C("ngModelChange",function(n){let i=c(e).$implicit;return w(i.passingCriteria,n)||(i.passingCriteria=n),m(n)}),s()()()(),o(41,"div",49)(42,"button",50),f("click",function(){let n=c(e).index,i=l();return m(i.moveStepUp(n))}),g(43,"i",51),s(),o(44,"button",52),f("click",function(){let n=c(e).index,i=l();return m(i.moveStepDown(n))}),g(45,"i",44),s()()()()()()}if(d&2){let e=_.$implicit,t=_.index,n=l();r(2),u("disabled",n.steps.length===1),r(9),h(" ",t+1," "),r(8),M("name","stepName",t,""),x("ngModel",e.stepName),r(3),O("show",n.activeStepDropdown===t),r(),u("ngForOf",n.getFilteredStepOptions(t)),r(7),M("name","mode",t,""),x("ngModel",e.mode),r(3),O("show",n.activeModeDropdown===t),r(),u("ngForOf",n.getFilteredModeOptions(t)),r(6),M("name","passingCriteria",t,""),x("ngModel",e.passingCriteria),r(2),u("disabled",t===0),r(2),u("disabled",t===n.steps.length-1)}}var re=(()=>{class d{apiService;assessmentTitle="";steps=[{stepOrder:1,stepName:"",mode:"",passingCriteria:""}];loading=!1;success=!1;error=null;activeStepDropdown=null;activeModeDropdown=null;filteredStepNames={};filteredModeNames={};stepNameOptions=["Resume Screening","Technical Interview","Managerial Round","HR Round","Coding Test","Group Discussion","Case Study","Aptitude Test","Psychometric Test","Portfolio Review","Assignment Evaluation","Presentation Round","Background Verification","Offer Discussion","Reference Check"];modeOptions=["Manual","AI Enabled"];constructor(e){this.apiService=e}ngOnInit(){this.steps.forEach((e,t)=>{this.filteredStepNames[t]=[...this.stepNameOptions],this.filteredModeNames[t]=[...this.modeOptions]})}addStep(){let e=this.steps.length;this.steps.push({stepOrder:this.steps.length+1,stepName:"",mode:"",passingCriteria:""}),this.filteredStepNames[e]=[...this.stepNameOptions],this.filteredModeNames[e]=[...this.modeOptions]}removeStep(e){if(this.steps.length>1){this.steps.splice(e,1),delete this.filteredStepNames[e],delete this.filteredModeNames[e];let t={},n={};this.steps.forEach((i,p)=>{let y=p<e?p:p+1;t[p]=this.filteredStepNames[y]||[...this.stepNameOptions],n[p]=this.filteredModeNames[y]||[...this.modeOptions]}),this.filteredStepNames=t,this.filteredModeNames=n}}toggleStepDropdown(e,t){this.activeStepDropdown=t?e:null,t&&(this.activeModeDropdown=null,this.filteredStepNames[e]=[...this.stepNameOptions])}filterStepOptions(e,t){let n=e.target.value.toLowerCase();this.filteredStepNames[t]=this.stepNameOptions.filter(i=>i.toLowerCase().includes(n))}selectStepOption(e,t){this.steps[t].stepName=e,this.activeStepDropdown=null}getFilteredStepOptions(e){return this.filteredStepNames[e]||this.stepNameOptions}toggleModeDropdown(e,t){this.activeModeDropdown=t?e:null,t&&(this.activeStepDropdown=null,this.filteredModeNames[e]=[...this.modeOptions])}filterModeOptions(e,t){let n=e.target.value.toLowerCase();this.filteredModeNames[t]=this.modeOptions.filter(i=>i.toLowerCase().includes(n))}selectModeOption(e,t){this.steps[t].mode=e,this.activeModeDropdown=null}getFilteredModeOptions(e){return this.filteredModeNames[e]||this.modeOptions}onDocumentClick(e){e.target.closest(".custom-dropdown-wrapper")||(this.activeStepDropdown=null,this.activeModeDropdown=null)}moveStepUp(e){if(e>0){let t=this.steps[e];this.steps[e]=this.steps[e-1],this.steps[e-1]=t,setTimeout(()=>{this.updateFilteredOptions()},0)}}moveStepDown(e){if(e<this.steps.length-1){let t=this.steps[e];this.steps[e]=this.steps[e+1],this.steps[e+1]=t,setTimeout(()=>{this.updateFilteredOptions()},0)}}trackByIndex(e){return e}updateFilteredOptions(){let e={},t={};this.steps.forEach((n,i)=>{e[i]=[...this.stepNameOptions],t[i]=[...this.modeOptions]}),this.filteredStepNames=e,this.filteredModeNames=t}submit(){if(!this.assessmentTitle.trim()){this.error="Please enter an assessment title.";return}this.loading=!0,this.success=!1,this.error=null;let e=this.steps.map(t=>P(S({},t),{title:this.assessmentTitle.trim()}));this.apiService.createAssessment(e).subscribe({next:()=>{this.loading=!1,this.success=!0},error:t=>{this.loading=!1,this.error=t}})}static \u0275fac=function(t){return new(t||d)(N(H))};static \u0275cmp=A({type:d,selectors:[["app-create-assessment"]],hostBindings:function(t,n){t&1&&f("click",function(p){return n.onDocumentClick(p)},!1,k)},decls:31,vars:8,consts:[[1,"create-assessment-bg","d-flex","align-items-center","justify-content-center","min-vh-90","w-100"],[1,"create-assessment-card","p-5","shadow-lg","w-100"],[1,"text-center","mb-4"],[1,"brand-icon","mb-2"],[1,"fas","fa-clipboard-list"],[1,"brand-heading","mb-1"],[1,"brand-subheading","mb-3"],["class","alert alert-info",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit"],[1,"row","g-4"],[1,"col-md-6","w-100"],[1,"form-label"],[1,"text-danger"],["type","text","name","assessmentTitle","required","","placeholder","Enter assessment title",1,"form-control","w-100",3,"ngModelChange","ngModel","disabled"],[1,"w-100"],["class","col-12",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","d-flex","justify-content-end","mb-3"],["type","button",1,"btn","brand-outline-btn",3,"click"],[1,"fas","fa-plus","me-1"],[1,"col-12","d-flex","justify-content-between","align-items-center","mt-4"],["routerLink","/assessments",1,"btn","brand-green-btn"],["type","submit",1,"btn","brand-green-btn","px-4",3,"disabled"],[1,"alert","alert-info"],[1,"fas","fa-spinner","fa-spin","me-2"],[1,"alert","alert-success"],[1,"fas","fa-check-circle","me-2"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"col-12"],[1,"step-card-wrapper"],["type","button","title","Remove Step",1,"step-delete-btn",3,"click","disabled"],[1,"fas","fa-times"],[1,"step-card"],[1,"step-content"],[1,"step-main-row"],[1,"step-number-col"],[1,"step-number-display"],[1,"step-inputs-col"],[1,"input-group"],[1,"custom-dropdown-wrapper"],["type","text","placeholder","Enter or select step title","required","",1,"form-control","custom-dropdown-input",3,"ngModelChange","focus","input","ngModel","name"],[1,"dropdown-arrow"],[1,"fas","fa-chevron-down"],[1,"custom-dropdown-menu"],["class","dropdown-option",3,"click",4,"ngFor","ngForOf"],["type","text","placeholder","Enter or select mode","required","",1,"form-control","custom-dropdown-input",3,"ngModelChange","focus","input","ngModel","name"],["type","number","min","0","max","100","required","",1,"form-control",3,"ngModelChange","ngModel","name"],[1,"step-arrows-center"],["type","button","title","Move Up",1,"step-arrow-btn","step-arrow-up",3,"click","disabled"],[1,"fas","fa-chevron-up"],["type","button","title","Move Down",1,"step-arrow-btn","step-arrow-down",3,"click","disabled"],[1,"dropdown-option",3,"click"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),g(4,"i",4),s(),o(5,"h2",5),a(6,"Create Assessment"),s(),o(7,"div",6),a(8,"Add steps for the assessment below"),s()(),b(9,G,3,0,"div",7)(10,X,3,0,"div",8)(11,J,3,1,"div",9),o(12,"form",10),f("ngSubmit",function(){return n.submit()}),o(13,"div",11)(14,"div",12)(15,"label",13),a(16,"Assessment Title "),o(17,"span",14),a(18,"*"),s()(),o(19,"input",15),C("ngModelChange",function(p){return w(n.assessmentTitle,p)||(n.assessmentTitle=p),p}),s()(),g(20,"div",16),b(21,Z,46,19,"div",17),o(22,"div",18)(23,"button",19),f("click",function(){return n.addStep()}),g(24,"i",20),a(25," Add Step "),s()(),o(26,"div",21)(27,"a",22),a(28,"Back to Assessments"),s(),o(29,"button",23),a(30,"Create Assessment"),s()()()()()()),t&2&&(r(9),u("ngIf",n.loading),r(),u("ngIf",n.success),r(),u("ngIf",n.error),r(8),x("ngModel",n.assessmentTitle),u("disabled",n.loading),r(2),u("ngForOf",n.steps)("ngForTrackBy",n.trackByIndex),r(8),u("disabled",n.loading))},dependencies:[V,T,E,Y,L,F,j,I,z,U,q,R,W,B,D],styles:[`.create-assessment-bg[_ngcontent-%COMP%]{background:linear-gradient(120deg,#f3f7fa,#e9f7ef);min-height:90vh;width:100%;z-index:0;display:flex;align-items:center;justify-content:center}.create-assessment-card[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:28px;box-shadow:0 12px 40px #3c3c3c21,0 2px 8px #3c3c3c17;width:100%;max-width:900px;padding:3rem 2.5rem;animation:_ngcontent-%COMP%_fadeInUp .7s cubic-bezier(.39,.575,.565,1) both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:none}}.brand-heading[_ngcontent-%COMP%]{color:#d2f55b;font-weight:700;letter-spacing:1px;font-size:2.1rem}.brand-subheading[_ngcontent-%COMP%]{color:#888;font-size:1.1rem;font-weight:400}.brand-icon[_ngcontent-%COMP%]{background:#cad2ff;color:#222;width:54px;height:54px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;margin:0 auto .5rem}.brand-green-btn[_ngcontent-%COMP%]{background:#d2f55b;color:#222;border:none;border-radius:8px;font-weight:600;transition:background .2s;box-shadow:0 2px 8px #d2f55b14}.brand-green-btn[_ngcontent-%COMP%]:hover{background:#cad2ff;color:#222}.brand-outline-btn[_ngcontent-%COMP%]{border:1px solid #7e7e7e;background:#f8fafd;color:#161616;border-radius:8px;font-weight:600;transition:background .2s,color .2s}.brand-outline-btn[_ngcontent-%COMP%]:hover{border:2px solid rgb(210,245,91);background:#d2f55b;color:#222}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#161616;margin-bottom:6px;white-space:nowrap}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #7e7e7e;background:#f8fafd;font-size:1rem;transition:border-color .2s;height:42px;padding:0 12px;width:100%;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#d2f55b;box-shadow:0 0 0 2px #d2f55b26;background:#fff}input[type=number][_ngcontent-%COMP%]{width:100%!important;min-width:0!important}input[type=number].form-control[_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{border-radius:8px!important}.step-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:12px;padding:20px;box-shadow:0 2px 8px #3c3c3c0f;margin-bottom:12px;transition:box-shadow .2s ease;position:relative}.step-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #3c3c3c1a;border-color:#d2f55b}.step-card-wrapper[_ngcontent-%COMP%]{position:relative;margin-bottom:16px}.step-delete-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;width:24px;height:24px;border-radius:50%;border:1px solid #ff5a5a;background:#fff;color:#ff5a5a;font-size:.7rem;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;transition:all .2s ease;box-shadow:0 2px 4px #0000001a}.step-delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ff5a5a;color:#fff;transform:scale(1.1)}.step-delete-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed;border-color:#ddd;color:#999}.step-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:20px}.step-main-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex:1;min-height:60px}.step-number-col[_ngcontent-%COMP%]{min-width:80px;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:0}.step-number-label[_ngcontent-%COMP%]{font-size:.95rem;color:#888;margin-bottom:4px;font-weight:500;line-height:1}.step-number-display[_ngcontent-%COMP%]{width:40px;height:40px;background:#d2f55b;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.1rem;color:#222;margin-bottom:0}.step-inputs-col[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1.2fr 1fr;gap:20px;flex:1;align-items:end}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:0}.step-arrows-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;padding-top:24px}.step-arrow-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:1px solid #656565;background:#fff;color:#666;border-radius:6px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;font-size:.8rem}.step-arrow-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#d2f55b;border-color:#d2f55b;color:#222;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.step-arrow-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed;background:#f8f9fa}.custom-dropdown-wrapper[_ngcontent-%COMP%]{position:relative;width:100%}.custom-dropdown-input[_ngcontent-%COMP%]{padding-right:2.5rem!important;cursor:pointer}.custom-dropdown-input[_ngcontent-%COMP%]:focus{cursor:text}.dropdown-arrow[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#666;pointer-events:none;font-size:.8rem;transition:transform .2s ease}.custom-dropdown-wrapper[_ngcontent-%COMP%]:hover   .dropdown-arrow[_ngcontent-%COMP%], .custom-dropdown-input[_ngcontent-%COMP%]:focus + .dropdown-arrow[_ngcontent-%COMP%]{transform:translateY(-50%) rotate(180deg)}.custom-dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #e0e0e0;border-radius:8px;box-shadow:0 4px 20px #0000001a;z-index:1000;max-height:200px;overflow-y:auto;margin-top:4px;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all .2s ease}.custom-dropdown-menu.show[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.dropdown-option[_ngcontent-%COMP%]{padding:.75rem 1rem;cursor:pointer;transition:background-color .15s ease;color:#333;font-size:.95rem;border-bottom:1px solid #f5f5f5}.dropdown-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.dropdown-option[_ngcontent-%COMP%]:hover{background-color:#d2f55b1a;color:#222}.custom-dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.custom-dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:silver;border-radius:3px}.custom-dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0a0a0}@media (max-width: 900px){.create-assessment-card[_ngcontent-%COMP%]{max-width:98vw;padding:2rem .5rem}}@media (max-width: 768px){.step-content[_ngcontent-%COMP%], .step-main-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:16px}.step-inputs-col[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.step-arrows-center[_ngcontent-%COMP%]{flex-direction:row;justify-content:center;margin-left:0;gap:12px;padding-top:0}.step-number-col[_ngcontent-%COMP%]{text-align:center;padding-top:0}}@media (min-width: 768px){.col-md-2[_ngcontent-%COMP%]:last-child{min-width:140px;max-width:140px}}@media (max-width: 767px){.action-buttons[_ngcontent-%COMP%]{gap:2px}.step-arrow[_ngcontent-%COMP%], .btn-outline-danger.btn-sm[_ngcontent-%COMP%]{width:28px;height:28px;font-size:.7rem}}
/*# sourceMappingURL=create-assessment.component-XYB73U7W.css.map */`]})}return d})();export{re as CreateAssessmentComponent};
//# sourceMappingURL=chunk-PFJDA3UZ.js.map
