import{b as k,d as O,e as R,f as L,g as j,h as B,i as D,l as A,m as N,n as q,o as F,p as z,q as U,t as H}from"./chunk-PUES3UOK.js";import{c as I,e as W,f as P,j as G}from"./chunk-YXC3A2TB.js";import{Da as w,Ha as b,Oa as s,Ob as T,Qa as E,Qb as V,Sa as t,Ta as i,Ua as x,Xa as h,Ya as C,Z as p,Za as c,_ as m,cb as v,db as a,eb as M,fb as y,ib as g,jb as u,kb as _,ua as r,ya as S}from"./chunk-JEWXIX7B.js";function Q(l,f){if(l&1){let d=h();t(0,"div",7),x(1,"i",8),t(2,"strong"),a(3,"Success!"),i(),a(4," Candidate has been updated successfully. Redirecting... "),t(5,"button",9),C("click",function(){p(d);let n=c();return m(n.success=!1)}),i()()}}function X(l,f){if(l&1){let d=h();t(0,"div",10),x(1,"i",11),t(2,"strong"),a(3,"Error:"),i(),a(4),t(5,"button",9),C("click",function(){p(d);let n=c();return m(n.clearError())}),i()()}if(l&2){let d=c();r(4),y(" ",d.error," ")}}function Y(l,f){l&1&&(t(0,"div",12)(1,"div",13)(2,"span",14),a(3,"Loading..."),i()(),t(4,"p",15),a(5,"Loading candidate details..."),i()())}function J(l,f){l&1&&(t(0,"div",63)(1,"div",64)(2,"div",13)(3,"span",14),a(4,"Loading..."),i()(),t(5,"p",15),a(6,"Updating candidate..."),i()()())}function K(l,f){if(l&1&&(t(0,"div",65)(1,"small",66),a(2),i()()),l&2){let d=c(2);r(2),y("Current: ",d.candidate.attachments,"")}}function Z(l,f){if(l&1&&(t(0,"div",65)(1,"small",67),a(2),i()()),l&2){let d=c(2);r(2),y("New files selected: ",d.attachments.length," file(s)")}}function $(l,f){l&1&&x(0,"span",68)}function ee(l,f){l&1&&x(0,"i",69)}function te(l,f){if(l&1){let d=h();t(0,"div")(1,"div",16)(2,"div",17),x(3,"i",18),i(),t(4,"h2",19),a(5,"Edit Candidate"),i(),t(6,"p",20),a(7,"Update candidate information"),i()(),t(8,"div",21),b(9,J,7,0,"div",22),t(10,"form",23,0),C("ngSubmit",function(){p(d);let n=v(11),o=c();return m(o.onSubmit(n))}),t(12,"div",24)(13,"div",25)(14,"label",26),a(15,"Name "),t(16,"span",27),a(17,"*"),i()(),t(18,"input",28),_("ngModelChange",function(n){p(d);let o=c();return u(o.candidate.name,n)||(o.candidate.name=n),m(n)}),i()(),t(19,"div",25)(20,"label",26),a(21,"Role "),t(22,"span",27),a(23,"*"),i()(),t(24,"input",29),_("ngModelChange",function(n){p(d);let o=c();return u(o.candidate.role,n)||(o.candidate.role=n),m(n)}),i()(),t(25,"div",25)(26,"label",26),a(27,"Applied Role "),t(28,"span",27),a(29,"*"),i()(),t(30,"input",30),_("ngModelChange",function(n){p(d);let o=c();return u(o.candidate.appliedRole,n)||(o.candidate.appliedRole=n),m(n)}),i()(),t(31,"div",25)(32,"label",26),a(33,"Department "),t(34,"span",27),a(35,"*"),i()(),t(36,"input",31),_("ngModelChange",function(n){p(d);let o=c();return u(o.candidate.department,n)||(o.candidate.department=n),m(n)}),i()(),t(37,"div",25)(38,"label",26),a(39,"Employment Type "),t(40,"span",27),a(41,"*"),i()(),t(42,"select",32),_("ngModelChange",function(n){p(d);let o=c();return u(o.candidate.employmentType,n)||(o.candidate.employmentType=n),m(n)}),t(43,"option",33),a(44,"Select Employment Type"),i(),t(45,"option",34),a(46,"Full-time"),i(),t(47,"option",35),a(48,"Part-time"),i(),t(49,"option",36),a(50,"Contract"),i(),t(51,"option",37),a(52,"Internship"),i()()(),t(53,"div",25)(54,"label",26),a(55,"Work Type "),t(56,"span",27),a(57,"*"),i()(),t(58,"select",38),_("ngModelChange",function(n){p(d);let o=c();return u(o.candidate.workType,n)||(o.candidate.workType=n),m(n)}),t(59,"option",33),a(60,"Select Work Type"),i(),t(61,"option",39),a(62,"Onsite"),i(),t(63,"option",40),a(64,"Remote"),i(),t(65,"option",41),a(66,"Hybrid"),i()()(),t(67,"div",25)(68,"label",26),a(69,"Applied Date"),i(),t(70,"input",42),_("ngModelChange",function(n){p(d);let o=c();return u(o.candidate.appliedDate,n)||(o.candidate.appliedDate=n),m(n)}),i()(),t(71,"div",25)(72,"label",26),a(73,"Resume/Attachments"),i(),t(74,"input",43),C("change",function(n){p(d);let o=c();return m(o.onAttachmentsChange(n))}),i(),b(75,K,3,1,"div",44)(76,Z,3,1,"div",44),i(),t(77,"div",25)(78,"label",26),a(79,"Status "),t(80,"span",27),a(81,"*"),i()(),t(82,"select",45),_("ngModelChange",function(n){p(d);let o=c();return u(o.candidate.status,n)||(o.candidate.status=n),m(n)}),t(83,"option",33),a(84,"Select Status"),i(),t(85,"option",46),a(86,"Applied"),i(),t(87,"option",47),a(88,"Shortlisted"),i(),t(89,"option",48),a(90,"In-Review"),i(),t(91,"option",49),a(92,"Interview"),i(),t(93,"option",50),a(94,"Hired"),i(),t(95,"option",51),a(96,"Rejected"),i()()(),t(97,"div",25)(98,"label",26),a(99,"Score (%) "),t(100,"span",27),a(101,"*"),i()(),t(102,"input",52),_("ngModelChange",function(n){p(d);let o=c();return u(o.candidate.score,n)||(o.candidate.score=n),m(n)}),i()(),t(103,"div",25)(104,"label",26),a(105,"Email "),t(106,"span",27),a(107,"*"),i()(),t(108,"input",53),_("ngModelChange",function(n){p(d);let o=c();return u(o.candidate.email,n)||(o.candidate.email=n),m(n)}),i()(),t(109,"div",25)(110,"label",26),a(111,"Phone "),t(112,"span",27),a(113,"*"),i()(),t(114,"input",54),_("ngModelChange",function(n){p(d);let o=c();return u(o.candidate.phone,n)||(o.candidate.phone=n),m(n)}),i()(),t(115,"div",25)(116,"label",26),a(117,"Position "),t(118,"span",27),a(119,"*"),i()(),t(120,"input",55),_("ngModelChange",function(n){p(d);let o=c();return u(o.candidate.position,n)||(o.candidate.position=n),m(n)}),i()(),t(121,"div",25)(122,"label",26),a(123,"Experience (years) "),t(124,"span",27),a(125,"*"),i()(),t(126,"input",56),_("ngModelChange",function(n){p(d);let o=c();return u(o.candidate.experience,n)||(o.candidate.experience=n),m(n)}),i()(),t(127,"div",57)(128,"a",58),x(129,"i",59),a(130,"Back to Candidates "),i(),t(131,"button",60),b(132,$,1,0,"span",61)(133,ee,1,0,"i",62),a(134),i()()()()()()}if(l&2){let d=v(11),e=c();r(9),s("ngIf",e.loading),r(9),g("ngModel",e.candidate.name),s("disabled",e.loading),r(6),g("ngModel",e.candidate.role),s("disabled",e.loading),r(6),g("ngModel",e.candidate.appliedRole),s("disabled",e.loading),r(6),g("ngModel",e.candidate.department),s("disabled",e.loading),r(6),g("ngModel",e.candidate.employmentType),s("disabled",e.loading),r(16),g("ngModel",e.candidate.workType),s("disabled",e.loading),r(12),g("ngModel",e.candidate.appliedDate),s("disabled",e.loading),r(4),s("disabled",e.loading),r(),s("ngIf",e.candidate.attachments&&e.candidate.attachments!=="No attachment"),r(),s("ngIf",e.attachments.length>0),r(6),g("ngModel",e.candidate.status),s("disabled",e.loading),r(20),g("ngModel",e.candidate.score),s("disabled",e.loading),r(6),g("ngModel",e.candidate.email),s("disabled",e.loading),r(6),g("ngModel",e.candidate.phone),s("disabled",e.loading),r(6),g("ngModel",e.candidate.position),s("disabled",e.loading),r(6),g("ngModel",e.candidate.experience),s("disabled",e.loading),r(2),E("disabled",e.loading),r(3),s("disabled",!d.valid||e.loading),r(),s("ngIf",e.loading),r(),s("ngIf",!e.loading),r(),y(" ",e.loading?"Updating...":"Update Candidate"," ")}}function ne(l,f){if(l&1){let d=h();t(0,"div",12),x(1,"i",70),t(2,"h4",27),a(3,"Unable to Load Candidate"),i(),t(4,"p",66),a(5),i(),t(6,"div",71)(7,"button",72),C("click",function(){p(d);let n=c();return m(n.loadCandidate())}),x(8,"i",73),a(9,"Try Again "),i(),t(10,"a",74),x(11,"i",59),a(12,"Back to Candidates "),i()()()}if(l&2){let d=c();r(5),M(d.error)}}var pe=(()=>{class l{router;route;apiService;candidate={id:0,name:"",role:"",appliedRole:"",department:"",employmentType:"Full-time",workType:"Onsite",appliedDate:"",attachments:"",status:"Shortlisted",score:0,email:"",phone:"",position:"",experience:0,jobId:1};candidateId=0;loading=!1;loadingCandidate=!1;error=null;success=!1;attachments=[];constructor(d,e,n){this.router=d,this.route=e,this.apiService=n}ngOnInit(){this.candidateId=Number(this.route.snapshot.paramMap.get("id")),this.candidateId?this.loadCandidate():this.error="Invalid candidate ID"}loadCandidate(){this.loadingCandidate=!0,this.error=null,this.apiService.getCandidateById(this.candidateId).subscribe({next:d=>{console.log("Candidate loaded successfully:",d),this.candidate=d,this.loadingCandidate=!1},error:d=>{console.error("Error loading candidate:",d),this.error=d,this.loadingCandidate=!1}})}onSubmit(d){if(d.valid)if(this.loading=!0,this.error=null,this.success=!1,this.attachments.length>0){let e=new FormData;e.append("name",this.candidate.name),e.append("role",this.candidate.role),e.append("appliedRole",this.candidate.appliedRole),e.append("department",this.candidate.department),e.append("employmentType",this.candidate.employmentType),e.append("workType",this.candidate.workType),e.append("appliedDateStr",this.candidate.appliedDate),e.append("status",this.candidate.status),e.append("score",String(this.candidate.score)),e.append("email",this.candidate.email),e.append("phone",this.candidate.phone),e.append("position",this.candidate.position),e.append("experience",String(this.candidate.experience)),e.append("jobId",String(this.candidate.jobId||1));for(let n of this.attachments)e.append("attachments",n,n.name);this.apiService.updateCandidate(this.candidateId,e).subscribe({next:n=>{console.log("Candidate updated successfully:",n),this.loading=!1,this.success=!0,setTimeout(()=>{this.router.navigate(["/candidates"])},1500)},error:n=>{console.error("Error updating candidate:",n),this.error=n,this.loading=!1}})}else this.apiService.updateCandidate(this.candidateId,this.candidate).subscribe({next:e=>{console.log("Candidate updated successfully:",e),this.loading=!1,this.success=!0,setTimeout(()=>{this.router.navigate(["/candidates"])},1500)},error:e=>{console.error("Error updating candidate:",e),this.error=e,this.loading=!1}})}clearError(){this.error=null}onAttachmentsChange(d){let e=d.target;e.files&&(this.attachments=Array.from(e.files))}static \u0275fac=function(e){return new(e||l)(S(W),S(I),S(G))};static \u0275cmp=w({type:l,selectors:[["app-edit-candidate"]],decls:7,vars:5,consts:[["editCandidateForm","ngForm"],[1,"create-job-bg","d-flex","align-items-center","justify-content-center","min-vh-90","w-100"],[1,"create-job-card","p-5","shadow-lg","w-100"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[4,"ngIf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"fas","fa-check-circle","me-2"],["type","button",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"text-center","mb-4"],[1,"brand-icon"],[1,"fas","fa-user-edit"],[1,"brand-heading"],[1,"brand-subheading"],[1,"position-relative"],["class","position-absolute w-100 h-100 d-flex align-items-center justify-content-center","style","background: rgba(255,255,255,0.8); z-index: 1000;",4,"ngIf"],[3,"ngSubmit"],[1,"row","g-4"],[1,"col-md-6"],[1,"form-label"],[1,"text-danger"],["type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","text","name","role","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","text","name","appliedRole","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","text","name","department","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["name","employmentType","required","",1,"form-select",3,"ngModelChange","ngModel","disabled"],["value",""],["value","Full-time"],["value","Part-time"],["value","Contract"],["value","Internship"],["name","workType","required","",1,"form-select",3,"ngModelChange","ngModel","disabled"],["value","Onsite"],["value","Remote"],["value","Hybrid"],["type","date","name","appliedDate",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","file","name","attachments","accept",".pdf,.doc,.docx,.txt","multiple","",1,"form-control",3,"change","disabled"],["class","mt-2",4,"ngIf"],["name","status","required","",1,"form-select",3,"ngModelChange","ngModel","disabled"],["value","Applied"],["value","Shortlisted"],["value","In-Review"],["value","Interview"],["value","Hired"],["value","Rejected"],["type","number","name","score","required","","min","0","max","100","step","1",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","tel","name","phone","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","text","name","position","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","number","name","experience","required","","min","0","max","50","step","1",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"col-12","d-flex","justify-content-between","align-items-center","mt-4"],["routerLink","/candidates",1,"btn","brand-outline-btn"],[1,"fas","fa-arrow-left","me-2"],["type","submit",1,"btn","brand-green-btn","px-4",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],["class","fas fa-save me-2",4,"ngIf"],[1,"position-absolute","w-100","h-100","d-flex","align-items-center","justify-content-center",2,"background","rgba(255,255,255,0.8)","z-index","1000"],[1,"text-center"],[1,"mt-2"],[1,"text-muted"],[1,"text-success"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-save","me-2"],[1,"fas","fa-exclamation-circle","fa-3x","text-danger","mb-3"],[1,"d-flex","justify-content-center","gap-2"],[1,"btn","brand-outline-btn",3,"click"],[1,"fas","fa-refresh","me-2"],["routerLink","/candidates",1,"btn","brand-green-btn"]],template:function(e,n){e&1&&(t(0,"div",1)(1,"div",2),b(2,Q,6,0,"div",3)(3,X,6,1,"div",4)(4,Y,6,0,"div",5)(5,te,135,36,"div",6)(6,ne,13,1,"div",5),i()()),e&2&&(r(2),s("ngIf",n.success),r(),s("ngIf",n.error),r(),s("ngIf",n.loadingCandidate),r(),s("ngIf",!n.loadingCandidate&&!n.error),r(),s("ngIf",!n.loadingCandidate&&n.error))},dependencies:[V,T,P,H,B,N,q,k,D,A,O,R,U,z,F,j,L],styles:[`.create-job-bg[_ngcontent-%COMP%]{background:transparent!important;min-height:90vh;width:100%;z-index:0;display:flex;align-items:center;justify-content:center}.create-job-card[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:28px;box-shadow:0 12px 40px #3c3c3c21,0 2px 8px #3c3c3c17;width:100%;max-width:1100px;padding:3rem 2.5rem;animation:_ngcontent-%COMP%_fadeInUp .7s cubic-bezier(.39,.575,.565,1) both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:none}}.brand-heading[_ngcontent-%COMP%]{color:#d2f55b;font-weight:700;letter-spacing:1px;font-size:2.1rem}.brand-subheading[_ngcontent-%COMP%]{color:#888;font-size:1.1rem;font-weight:400}.brand-icon[_ngcontent-%COMP%]{background:#cad2ff;color:#222;width:54px;height:54px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.8rem;margin:0 auto .5rem}.brand-green-btn[_ngcontent-%COMP%]{background:#d2f55b;color:#222;border:none;border-radius:8px;font-weight:600;transition:background .2s;box-shadow:0 2px 8px #d2f55b14}.brand-green-btn[_ngcontent-%COMP%]:hover{background:#cad2ff;color:#222}.brand-outline-btn[_ngcontent-%COMP%]{border:2px solid rgb(210,245,91);color:#d2f55b;background:transparent;border-radius:8px;font-weight:600;transition:background .2s,color .2s}.brand-outline-btn[_ngcontent-%COMP%]:hover{background:#d2f55b;color:#222}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#444}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #e0e0e0;background:#f8fafd;font-size:1rem;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#d2f55b;box-shadow:0 0 0 2px #d2f55b26}.badge.bg-applied[_ngcontent-%COMP%], .brand-applied-bg[_ngcontent-%COMP%]{background:#e6ff5c!important;color:#222!important}@media (max-width: 900px){.create-job-card[_ngcontent-%COMP%]{max-width:98vw;padding:2rem .5rem}}
/*# sourceMappingURL=edit-candidate.component-XVBRDQVP.css.map */`]})}return l})();export{pe as EditCandidateComponent};
//# sourceMappingURL=chunk-LLJQZ7LV.js.map
