import{b as j,d as L,e as D,f as R,g as B,h as q,i as N,m as A,n as z,o as U,p as H,q as Y,r as G,u as X}from"./chunk-QENRJ74P.js";import{e as O,f as F,j as v}from"./chunk-XP7GFRGV.js";import{Ea as I,Ia as h,Ob as P,Pa as d,Pb as J,Ra as T,Rb as k,Ta as t,Ua as n,Va as C,Ya as M,Z as c,Za as S,_ as g,_a as w,db as E,eb as i,fb as V,gb as y,ib as W,jb as u,kb as b,lb as f,va as o,za as x}from"./chunk-RXLJ6G3Z.js";function K(s,_){if(s&1){let r=M();t(0,"div",42),C(1,"i",43),t(2,"strong"),i(3,"Success!"),n(),i(4," Candidate has been created successfully. Redirecting... "),t(5,"button",44),S("click",function(){c(r);let e=w();return g(e.success=!1)}),n()()}}function Q(s,_){if(s&1){let r=M();t(0,"div",45),C(1,"i",46),t(2,"strong"),i(3,"Error:"),n(),i(4),t(5,"button",44),S("click",function(){c(r);let e=w();return g(e.clearError())}),n()()}if(s&2){let r=w();o(4),y(" ",r.error," ")}}function Z(s,_){s&1&&(t(0,"div",47)(1,"div",48)(2,"div",49)(3,"span",50),i(4,"Loading..."),n()(),t(5,"p",51),i(6,"Creating candidate..."),n()()())}function $(s,_){if(s&1&&(t(0,"option",52),i(1),n()),s&2){let r=_.$implicit;d("value",r.id),o(),W(" ",r.title," - ",r.role," (",r.location,") ")}}function ee(s,_){s&1&&(t(0,"div",34),i(1,"Loading available jobs..."),n())}function te(s,_){if(s&1&&(t(0,"div",9)(1,"label",10),i(2,"Job Details"),n(),t(3,"div",53)(4,"small")(5,"strong"),i(6),n(),C(7,"br"),i(8),C(9,"br"),i(10),C(11,"br"),i(12),n()()()),s&2){let r,p,e,l,m=w();o(6),V((r=m.getSelectedJob())==null?null:r.title),o(2),y(" Department: ",(p=m.getSelectedJob())==null?null:p.role,""),o(2),y(" Location: ",(e=m.getSelectedJob())==null?null:e.location,""),o(2),y(" Type: ",(l=m.getSelectedJob())==null?null:l.type," ")}}function ie(s,_){if(s&1&&(t(0,"div",54)(1,"small",55),C(2,"i",56),i(3),n()()),s&2){let r=w();o(3),y("Selected: ",r.selectedFile.name," ")}}function ne(s,_){s&1&&C(0,"span",57)}function ae(s,_){s&1&&C(0,"i",58)}var ue=(()=>{class s{router;apiService;candidate={id:0,name:"",role:"",appliedRole:"",department:"",employmentType:"Full-time",workType:"Onsite",appliedDate:"",attachments:"",status:"Applied",score:0,email:"",phone:"",position:"",experience:0};selectedFile=null;selectedJobId="";jobs=[];loading=!1;error=null;success=!1;loadingJobs=!1;constructor(r,p){this.router=r,this.apiService=p}ngOnInit(){this.loadJobs();let r=new Date;this.candidate.appliedDate=r.toISOString().split("T")[0]}loadJobs(){this.loadingJobs=!0,this.apiService.getJobs().subscribe({next:r=>{this.jobs=r.filter(p=>p.isActive),this.loadingJobs=!1},error:r=>{console.error("Error loading jobs:",r),this.jobs=v.getFallbackJobs().filter(p=>p.isActive),this.loadingJobs=!1}})}onFileChange(r){let p=r.target;p.files&&p.files.length>0&&(this.selectedFile=p.files[0])}onSubmit(r){if(r.valid&&this.selectedFile&&this.selectedJobId){this.loading=!0,this.error=null,this.success=!1;let p={name:this.candidate.name,email:this.candidate.email,phone:this.candidate.phone,role:this.candidate.role,appliedRole:this.candidate.appliedRole,department:this.candidate.department,employmentType:this.candidate.employmentType,workType:this.candidate.workType,appliedDate:this.candidate.appliedDate,status:this.candidate.status,score:this.candidate.score,position:this.candidate.position,experience:this.candidate.experience,jobId:this.selectedJobId},e=new FormData;e.append("candidate",JSON.stringify(p)),e.append("file",this.selectedFile,this.selectedFile.name),this.apiService.createCandidate(e).subscribe({next:l=>{console.log("Candidate created successfully:",l),this.loading=!1,this.success=!0,setTimeout(()=>{this.router.navigate(["/candidates"])},1500)},error:l=>{console.error("Error creating candidate:",l),this.error=l,this.loading=!1}})}else this.selectedFile?this.selectedJobId||(this.error="Please select a job position"):this.error="Please select a file (resume/cover letter)"}clearError(){this.error=null}getSelectedJob(){return this.jobs.find(r=>r.id===Number(this.selectedJobId))}onJobSelection(){if(this.selectedJobId){let r=this.getSelectedJob();r&&(this.candidate.appliedRole=r.title)}}static \u0275fac=function(p){return new(p||s)(x(O),x(v))};static \u0275cmp=I({type:s,selectors:[["app-create-candidate"]],decls:154,vars:42,consts:[["createCandidateForm","ngForm"],[1,"create-job-bg","d-flex","align-items-center","justify-content-center","min-vh-90","w-100"],[1,"create-job-card","p-5","shadow-lg","w-100"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],[1,"position-relative"],["class","position-absolute w-100 h-100 d-flex align-items-center justify-content-center","style","background: rgba(255,255,255,0.8); z-index: 1000;",4,"ngIf"],[3,"ngSubmit"],[1,"row","g-4"],[1,"col-md-6"],[1,"form-label"],[1,"text-danger"],["name","jobId","required","",1,"form-select",3,"ngModelChange","change","ngModel","disabled"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","form-text",4,"ngIf"],["class","col-md-6",4,"ngIf"],["type","text","name","name","required","","placeholder","Enter candidate name",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","email","name","email","required","","placeholder","Enter email address",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","text","name","phone","required","","placeholder","Enter phone number",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","text","name","role","required","","placeholder","Enter current role",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","text","name","appliedRole","required","","placeholder","Enter applied role",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","text","name","department","required","","placeholder","Enter department",1,"form-control",3,"ngModelChange","ngModel","disabled"],["name","position","required","","placeholder","Select position level",1,"form-select",3,"ngModelChange","ngModel","disabled"],["value",""],["type","number","name","experience","required","","min","0","max","50","placeholder","Years of experience",1,"form-control",3,"ngModelChange","ngModel","disabled"],["name","employmentType","required","","placeholder","Select employment type",1,"form-select",3,"ngModelChange","ngModel","disabled"],["name","workType","required","","placeholder","Select work type",1,"form-select",3,"ngModelChange","ngModel","disabled"],["name","status","required","","placeholder","Select status",1,"form-select",3,"ngModelChange","ngModel","disabled"],["type","date","name","appliedDate","placeholder","Select applied date",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","number","name","score","required","","min","0","max","100","placeholder","Enter score (%)",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"mb-3"],["for","fileInput",1,"form-label"],["type","file","id","fileInput","name","file","accept",".pdf,.doc,.docx","required","","placeholder","Upload resume or cover letter",1,"form-control",3,"change","disabled"],[1,"form-text"],["class","mt-2",4,"ngIf"],[1,"col-12","d-flex","justify-content-between","align-items-center","mt-4"],["routerLink","/candidates",1,"btn","brand-outline-btn"],[1,"fas","fa-arrow-left","me-2"],["type","submit",1,"btn","brand-green-btn","px-4",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],["class","fas fa-plus me-2",4,"ngIf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"fas","fa-check-circle","me-2"],["type","button",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"position-absolute","w-100","h-100","d-flex","align-items-center","justify-content-center",2,"background","rgba(255,255,255,0.8)","z-index","1000"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[3,"value"],[1,"form-control-plaintext","bg-light","p-2","rounded"],[1,"mt-2"],[1,"text-success"],[1,"fas","fa-file","me-1"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-plus","me-2"]],template:function(p,e){if(p&1){let l=M();t(0,"div",1)(1,"div",2),h(2,K,6,0,"div",3)(3,Q,6,1,"div",4),t(4,"div",5),h(5,Z,7,0,"div",6),t(6,"form",7,0),S("ngSubmit",function(){c(l);let a=E(7);return g(e.onSubmit(a))}),t(8,"div",8)(9,"div",9)(10,"label",10),i(11,"Select Job Position "),t(12,"span",11),i(13,"*"),n()(),t(14,"select",12),f("ngModelChange",function(a){return c(l),b(e.selectedJobId,a)||(e.selectedJobId=a),g(a)}),S("change",function(){return c(l),g(e.onJobSelection())}),t(15,"option",13),i(16,"-- Select Job --"),n(),h(17,$,2,4,"option",14),n(),h(18,ee,2,0,"div",15),n(),h(19,te,13,4,"div",16),t(20,"div",9)(21,"label",10),i(22,"Name "),t(23,"span",11),i(24,"*"),n()(),t(25,"input",17),f("ngModelChange",function(a){return c(l),b(e.candidate.name,a)||(e.candidate.name=a),g(a)}),n()(),t(26,"div",9)(27,"label",10),i(28,"Email "),t(29,"span",11),i(30,"*"),n()(),t(31,"input",18),f("ngModelChange",function(a){return c(l),b(e.candidate.email,a)||(e.candidate.email=a),g(a)}),n()(),t(32,"div",9)(33,"label",10),i(34,"Phone "),t(35,"span",11),i(36,"*"),n()(),t(37,"input",19),f("ngModelChange",function(a){return c(l),b(e.candidate.phone,a)||(e.candidate.phone=a),g(a)}),n()(),t(38,"div",9)(39,"label",10),i(40,"Current Role "),t(41,"span",11),i(42,"*"),n()(),t(43,"input",20),f("ngModelChange",function(a){return c(l),b(e.candidate.role,a)||(e.candidate.role=a),g(a)}),n()(),t(44,"div",9)(45,"label",10),i(46,"Applied Role "),t(47,"span",11),i(48,"*"),n()(),t(49,"input",21),f("ngModelChange",function(a){return c(l),b(e.candidate.appliedRole,a)||(e.candidate.appliedRole=a),g(a)}),n()(),t(50,"div",9)(51,"label",10),i(52,"Department "),t(53,"span",11),i(54,"*"),n()(),t(55,"input",22),f("ngModelChange",function(a){return c(l),b(e.candidate.department,a)||(e.candidate.department=a),g(a)}),n()(),t(56,"div",9)(57,"label",10),i(58,"Position Level "),t(59,"span",11),i(60,"*"),n()(),t(61,"select",23),f("ngModelChange",function(a){return c(l),b(e.candidate.position,a)||(e.candidate.position=a),g(a)}),t(62,"option",24),i(63,"-- Select Position Level --"),n(),t(64,"option"),i(65,"Junior"),n(),t(66,"option"),i(67,"Mid-level"),n(),t(68,"option"),i(69,"Senior"),n(),t(70,"option"),i(71,"Lead"),n(),t(72,"option"),i(73,"Manager"),n(),t(74,"option"),i(75,"Director"),n()()(),t(76,"div",9)(77,"label",10),i(78,"Experience (years) "),t(79,"span",11),i(80,"*"),n()(),t(81,"input",25),f("ngModelChange",function(a){return c(l),b(e.candidate.experience,a)||(e.candidate.experience=a),g(a)}),n()(),t(82,"div",9)(83,"label",10),i(84,"Employment Type "),t(85,"span",11),i(86,"*"),n()(),t(87,"select",26),f("ngModelChange",function(a){return c(l),b(e.candidate.employmentType,a)||(e.candidate.employmentType=a),g(a)}),t(88,"option"),i(89,"Full-time"),n(),t(90,"option"),i(91,"Part-time"),n(),t(92,"option"),i(93,"Contract"),n(),t(94,"option"),i(95,"Internship"),n()()(),t(96,"div",9)(97,"label",10),i(98,"Work Type "),t(99,"span",11),i(100,"*"),n()(),t(101,"select",27),f("ngModelChange",function(a){return c(l),b(e.candidate.workType,a)||(e.candidate.workType=a),g(a)}),t(102,"option"),i(103,"Onsite"),n(),t(104,"option"),i(105,"Remote"),n(),t(106,"option"),i(107,"Hybrid"),n()()(),t(108,"div",9)(109,"label",10),i(110,"Status "),t(111,"span",11),i(112,"*"),n()(),t(113,"select",28),f("ngModelChange",function(a){return c(l),b(e.candidate.status,a)||(e.candidate.status=a),g(a)}),t(114,"option"),i(115,"Applied"),n(),t(116,"option"),i(117,"Shortlisted"),n(),t(118,"option"),i(119,"In-Review"),n(),t(120,"option"),i(121,"Interview"),n(),t(122,"option"),i(123,"Hired"),n(),t(124,"option"),i(125,"Rejected"),n()()(),t(126,"div",9)(127,"label",10),i(128,"Applied Date"),n(),t(129,"input",29),f("ngModelChange",function(a){return c(l),b(e.candidate.appliedDate,a)||(e.candidate.appliedDate=a),g(a)}),n()(),t(130,"div",9)(131,"label",10),i(132,"Score (%) "),t(133,"span",11),i(134,"*"),n()(),t(135,"input",30),f("ngModelChange",function(a){return c(l),b(e.candidate.score,a)||(e.candidate.score=a),g(a)}),n()(),t(136,"div",9)(137,"div",31)(138,"label",32),i(139,"Resume/Cover Letter "),t(140,"span",11),i(141,"*"),n()(),t(142,"input",33),S("change",function(a){return c(l),g(e.onFileChange(a))}),n(),t(143,"div",34),i(144,"Accepted formats: PDF, DOC, DOCX (Max 5MB)"),n(),h(145,ie,4,1,"div",35),n()(),t(146,"div",36)(147,"a",37),C(148,"i",38),i(149,"Back to Candidates "),n(),t(150,"button",39),h(151,ne,1,0,"span",40)(152,ae,1,0,"i",41),i(153),n()()()()()()()}if(p&2){let l=E(7);o(2),d("ngIf",e.success),o(),d("ngIf",e.error),o(2),d("ngIf",e.loading),o(9),u("ngModel",e.selectedJobId),d("disabled",e.loading||e.loadingJobs),o(3),d("ngForOf",e.jobs),o(),d("ngIf",e.loadingJobs),o(),d("ngIf",e.getSelectedJob()),o(6),u("ngModel",e.candidate.name),d("disabled",e.loading),o(6),u("ngModel",e.candidate.email),d("disabled",e.loading),o(6),u("ngModel",e.candidate.phone),d("disabled",e.loading),o(6),u("ngModel",e.candidate.role),d("disabled",e.loading),o(6),u("ngModel",e.candidate.appliedRole),d("disabled",e.loading),o(6),u("ngModel",e.candidate.department),d("disabled",e.loading),o(6),u("ngModel",e.candidate.position),d("disabled",e.loading),o(20),u("ngModel",e.candidate.experience),d("disabled",e.loading),o(6),u("ngModel",e.candidate.employmentType),d("disabled",e.loading),o(14),u("ngModel",e.candidate.workType),d("disabled",e.loading),o(12),u("ngModel",e.candidate.status),d("disabled",e.loading),o(16),u("ngModel",e.candidate.appliedDate),d("disabled",e.loading),o(6),u("ngModel",e.candidate.score),d("disabled",e.loading),o(7),d("disabled",e.loading),o(3),d("ngIf",e.selectedFile),o(2),T("disabled",e.loading),o(3),d("disabled",!l.valid||e.loading||!e.selectedFile||!e.selectedJobId),o(),d("ngIf",e.loading),o(),d("ngIf",!e.loading),o(),y(" ",e.loading?"Creating...":"Add Candidate"," ")}},dependencies:[k,P,J,F,X,q,z,U,j,N,A,L,D,G,Y,H,B,R],styles:[`.create-job-bg[_ngcontent-%COMP%]{background:transparent!important;min-height:90vh;width:100%;z-index:0;display:flex;align-items:center;justify-content:center}.create-job-card[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:28px;box-shadow:0 12px 40px #3c3c3c21,0 2px 8px #3c3c3c17;width:100%;max-width:1100px;padding:3rem 2.5rem;animation:_ngcontent-%COMP%_fadeInUp .7s cubic-bezier(.39,.575,.565,1) both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:none}}.brand-heading[_ngcontent-%COMP%]{color:#d2f55b;font-weight:700;letter-spacing:1px;font-size:2.1rem}.brand-subheading[_ngcontent-%COMP%]{color:#888;font-size:1.1rem;font-weight:400}.brand-icon[_ngcontent-%COMP%]{background:#cad2ff;color:#222;width:54px;height:54px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;margin:0 auto .5rem}.brand-green-btn[_ngcontent-%COMP%]{background:#d2f55b;color:#222;border:none;border-radius:8px;font-weight:600;transition:background .2s;box-shadow:0 2px 8px #d2f55b14}.brand-green-btn[_ngcontent-%COMP%]:hover{background:#cad2ff;color:#222}.brand-outline-btn[_ngcontent-%COMP%]{border:2px solid rgb(210,245,91);color:#d2f55b;background:transparent;border-radius:8px;font-weight:600;transition:background .2s,color .2s}.brand-outline-btn[_ngcontent-%COMP%]:hover{background:#d2f55b;color:#222}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#161616}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #7e7e7e!important;background:#f8fafd;font-size:1rem;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#d2f55b;box-shadow:0 0 0 2px #d2f55b26}@media (max-width: 900px){.create-job-card[_ngcontent-%COMP%]{max-width:98vw;padding:2rem .5rem}}
/*# sourceMappingURL=create-candidate.component-FUEM6BIW.css.map */`]})}return s})();export{ue as CreateCandidateComponent};
//# sourceMappingURL=chunk-5FFRZFMB.js.map
