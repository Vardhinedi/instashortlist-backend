import{a as V,b as N,d as W,e as L,f as I,g as F,h as B,i as z,l as R,m as q,n as D,q as U,t as G}from"./chunk-PUES3UOK.js";import{e as J,f as A,j as H}from"./chunk-YXC3A2TB.js";import{Da as P,Ha as k,Mb as E,Oa as h,Ob as O,Qb as T,Sa as e,Ta as o,Ua as u,Xa as M,Ya as y,Z as s,Za as _,_ as d,a as S,b as j,cb as x,db as i,fb as w,ib as p,jb as b,kb as g,ua as a,ya as C}from"./chunk-JEWXIX7B.js";function Q(c,v){c&1&&(e(0,"div",49),u(1,"i",50),i(2,"Posting job... "),o())}function Y(c,v){c&1&&(e(0,"div",51),u(1,"i",52),i(2,"Job posted successfully! Redirecting... "),o())}function K(c,v){if(c&1){let r=M();e(0,"div",53),u(1,"i",54),i(2),e(3,"button",55),y("click",function(){s(r);let t=_();return d(t.clearError())}),o()()}if(c&2){let r=_();a(2),w("",r.error," ")}}var re=(()=>{class c{router;apiService;job={id:0,title:"",role:"",location:"",description:"",isActive:!0,salaryMin:0,salaryMax:0,type:"Full-time",level:"Entry-level"};assessmentTemplates=[];filteredAssessmentTemplates=[];availableStepNames=[];loading=!1;error=null;success=!1;constructor(r,m){this.router=r,this.apiService=m}onSubmit(r){if(r.valid){this.loading=!0,this.error=null,this.success=!1;let m={title:this.job.title,role:this.job.role,location:this.job.location,description:this.job.description,salaryMin:Number(this.job.salaryMin),salaryMax:Number(this.job.salaryMax),type:this.job.type,level:this.job.level,isActive:this.job.isActive};this.apiService.createJob(m).subscribe({next:t=>{console.log("Job created successfully:",t),this.loading=!1,this.success=!0,setTimeout(()=>{this.router.navigate(["/jobs"])},1500)},error:t=>{console.error("Error creating job:",t),this.error=t,this.loading=!1,this.saveToLocalStorage()}})}}ngOnInit(){this.loadAssessmentTemplates()}saveToLocalStorage(){try{let r=JSON.parse(localStorage.getItem("jobs")||"[]"),m=j(S({},this.job),{id:Date.now(),isActive:!0,salaryMin:Number(this.job.salaryMin),salaryMax:Number(this.job.salaryMax)});r.push(m),localStorage.setItem("jobs",JSON.stringify(r)),console.log("Job saved to localStorage as fallback"),this.success=!0,setTimeout(()=>{this.router.navigate(["/jobs"])},1e4)}catch(r){console.error("Error saving to localStorage:",r),this.error="Failed to save job. Please try again."}}clearError(){this.error=null}loadAssessmentTemplates(){this.apiService.getAssessmentTemplates().subscribe({next:r=>{this.assessmentTemplates=r,this.filterAssessmentTemplates()},error:r=>{console.error("Error loading assessment templates:",r),this.assessmentTemplates=[],this.filteredAssessmentTemplates=[]}})}onRoleChange(){this.filterAssessmentTemplates()}filterAssessmentTemplates(){if(!this.job.role||this.job.role.trim()===""){this.filteredAssessmentTemplates=[],this.availableStepNames=[];return}this.filteredAssessmentTemplates=this.assessmentTemplates.filter(r=>r.role.toLowerCase().includes(this.job.role.toLowerCase())),this.availableStepNames=[...new Set(this.filteredAssessmentTemplates.map(r=>r.stepName))]}static \u0275fac=function(m){return new(m||c)(C(J),C(H))};static \u0275cmp=P({type:c,selectors:[["app-create-job"]],decls:90,vars:15,consts:[["createJobForm","ngForm"],[1,"create-job-bg","d-flex","align-items-center","justify-content-center","min-vh-90","w-100"],[1,"create-job-card","p-5","shadow-lg","w-100"],[1,"text-center","mb-4"],[1,"brand-icon","mb-2"],[1,"fas","fa-briefcase"],[1,"brand-heading","mb-1"],[1,"brand-subheading","mb-3"],["class","alert alert-info",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit"],[1,"row","g-4"],[1,"col-md-6"],["for","title",1,"form-label"],["type","text","id","title","name","title","placeholder","@eg-Software Developer","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","role",1,"form-label"],["type","text","id","role","name","role","placeholder","@eg-Product Manager","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","location",1,"form-label"],["type","text","id","location","name","location","placeholder","@eg-Remote","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","type",1,"form-label"],["id","type","name","type",1,"form-select",3,"ngModelChange","ngModel"],["for","level",1,"form-label"],["id","level","name","level",1,"form-select",3,"ngModelChange","ngModel"],[1,"col-md-3"],["for","salaryMin",1,"form-label"],["type","number","id","salaryMin","name","salaryMin","placeholder","@eg-1000000","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","salaryMax",1,"form-label"],["type","number","id","salaryMax","name","salaryMax","placeholder","@eg-2000000","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","isActive",1,"form-label"],[1,"form-check","form-switch"],["type","checkbox","id","isActive","name","isActive",1,"form-check-input",3,"ngModelChange","ngModel"],["for","isActive",1,"form-check-label"],[1,"badge",3,"ngClass"],[1,"form-label"],[1,"hiring-platforms-checkbox-group"],[1,"form-check"],["type","checkbox","id","platformLinkedIn",1,"form-check-input"],["for","platformLinkedIn",1,"form-check-label"],["type","checkbox","id","platformNaukri",1,"form-check-input"],["for","platformNaukri",1,"form-check-label"],["type","checkbox","id","platformOthers",1,"form-check-input"],["for","platformOthers",1,"form-check-label"],[1,"col-12"],["for","description",1,"form-label"],["id","description","name","description","rows","6","placeholder","@eg-This role demands...","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","d-flex","justify-content-between","align-items-center","mt-4"],["routerLink","/jobs",1,"btn","brand-outline-btn"],["type","submit",1,"btn","brand-green-btn","px-4",3,"disabled"],[1,"alert","alert-info"],[1,"fas","fa-spinner","fa-spin","me-2"],[1,"alert","alert-success"],[1,"fas","fa-check-circle","me-2"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn-close","float-end",3,"click"]],template:function(m,t){if(m&1){let l=M();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),u(4,"i",5),o(),e(5,"h2",6),i(6,"Post a New Job"),o(),e(7,"div",7),i(8,"Fill in the details below to post a new job opening"),o()(),k(9,Q,3,0,"div",8)(10,Y,3,0,"div",9)(11,K,4,1,"div",10),e(12,"form",11,0),y("ngSubmit",function(){s(l);let n=x(13);return d(t.onSubmit(n))}),e(14,"div",12)(15,"div",13)(16,"label",14),i(17,"Job Title"),o(),e(18,"input",15),g("ngModelChange",function(n){return s(l),b(t.job.title,n)||(t.job.title=n),d(n)}),o()(),e(19,"div",13)(20,"label",16),i(21,"Job Role"),o(),e(22,"input",17),g("ngModelChange",function(n){return s(l),b(t.job.role,n)||(t.job.role=n),d(n)}),o()(),e(23,"div",13)(24,"label",18),i(25,"Location"),o(),e(26,"input",19),g("ngModelChange",function(n){return s(l),b(t.job.location,n)||(t.job.location=n),d(n)}),o()(),e(27,"div",13)(28,"label",20),i(29,"Employment Type"),o(),e(30,"select",21),g("ngModelChange",function(n){return s(l),b(t.job.type,n)||(t.job.type=n),d(n)}),e(31,"option"),i(32,"Full-time"),o(),e(33,"option"),i(34,"Part-time"),o(),e(35,"option"),i(36,"Contract"),o(),e(37,"option"),i(38,"Internship"),o()()(),e(39,"div",13)(40,"label",22),i(41,"Seniority Level"),o(),e(42,"select",23),g("ngModelChange",function(n){return s(l),b(t.job.level,n)||(t.job.level=n),d(n)}),e(43,"option"),i(44,"Entry-level"),o(),e(45,"option"),i(46,"Mid"),o(),e(47,"option"),i(48,"Senior-level"),o()()(),e(49,"div",24)(50,"label",25),i(51,"Min Salary"),o(),e(52,"input",26),g("ngModelChange",function(n){return s(l),b(t.job.salaryMin,n)||(t.job.salaryMin=n),d(n)}),o()(),e(53,"div",24)(54,"label",27),i(55,"Max Salary"),o(),e(56,"input",28),g("ngModelChange",function(n){return s(l),b(t.job.salaryMax,n)||(t.job.salaryMax=n),d(n)}),o()(),e(57,"div",13)(58,"label",29),i(59,"Active"),o(),e(60,"div",30)(61,"input",31),g("ngModelChange",function(n){return s(l),b(t.job.isActive,n)||(t.job.isActive=n),d(n)}),o(),e(62,"label",32)(63,"span",33),i(64),o()()()(),e(65,"div",13)(66,"label",34),i(67,"Hiring Platforms"),o(),e(68,"div",35)(69,"div",36),u(70,"input",37),e(71,"label",38),i(72,"LinkedIn"),o()(),e(73,"div",36),u(74,"input",39),e(75,"label",40),i(76,"Naukri"),o()(),e(77,"div",36),u(78,"input",41),e(79,"label",42),i(80,"Others"),o()()()(),e(81,"div",43)(82,"label",44),i(83,"Job Description"),o(),e(84,"textarea",45),g("ngModelChange",function(n){return s(l),b(t.job.description,n)||(t.job.description=n),d(n)}),o()(),e(85,"div",46)(86,"a",47),i(87,"Back to Jobs"),o(),e(88,"button",48),i(89,"Post Job"),o()()()()()()}if(m&2){let l=x(13);a(9),h("ngIf",t.loading),a(),h("ngIf",t.success),a(),h("ngIf",t.error),a(7),p("ngModel",t.job.title),a(4),p("ngModel",t.job.role),a(4),p("ngModel",t.job.location),a(4),p("ngModel",t.job.type),a(12),p("ngModel",t.job.level),a(10),p("ngModel",t.job.salaryMin),a(4),p("ngModel",t.job.salaryMax),a(5),p("ngModel",t.job.isActive),a(2),h("ngClass",t.job.isActive?"bg-success":"bg-secondary"),a(),w(" ",t.job.isActive?"Active":"Inactive"," "),a(20),p("ngModel",t.job.description),a(4),h("disabled",!l.valid)}},dependencies:[T,E,O,A,G,B,q,D,N,z,V,R,W,L,U,F,I],styles:[`.create-job-bg[_ngcontent-%COMP%]{background:linear-gradient(120deg,#f3f7fa,#e9f7ef);min-height:90vh;width:100%;z-index:0;display:flex;align-items:center;justify-content:center}.create-job-card[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:28px;box-shadow:0 12px 40px #3c3c3c21,0 2px 8px #3c3c3c17;width:100%;max-width:1100px;padding:3rem 2.5rem;animation:_ngcontent-%COMP%_fadeInUp .7s cubic-bezier(.39,.575,.565,1) both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:none}}.brand-heading[_ngcontent-%COMP%]{color:#d2f55b;font-weight:700;letter-spacing:1px;font-size:2.1rem}.brand-subheading[_ngcontent-%COMP%]{color:#888;font-size:1.1rem;font-weight:400}.brand-icon[_ngcontent-%COMP%]{background:#cad2ff;color:#222;width:54px;height:54px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;margin:0 auto .5rem}.brand-green-btn[_ngcontent-%COMP%]{background:#d2f55b;color:#222;border:none;border-radius:8px;font-weight:600;transition:background .2s;box-shadow:0 2px 8px #d2f55b14}.brand-green-btn[_ngcontent-%COMP%]:hover{background:#cad2ff;color:#222}.brand-outline-btn[_ngcontent-%COMP%]{border:2px solid rgb(210,245,91);color:#d2f55b;background:transparent;border-radius:8px;font-weight:600;transition:background .2s,color .2s}.brand-outline-btn[_ngcontent-%COMP%]:hover{background:#d2f55b;color:#222}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#444}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #e0e0e0;background:#f8fafd;font-size:1rem;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#d2f55b;box-shadow:0 0 0 2px #d2f55b26}#hiringPlatforms[_ngcontent-%COMP%]{border-radius:8px;border:1.5px solid #c6e48b;background:#f8fff0;color:#222;min-height:48px;font-size:1rem;padding:10px 12px;box-shadow:0 1px 4px #d2f55b14;transition:border-color .2s,box-shadow .2s}#hiringPlatforms[_ngcontent-%COMP%]:focus{border-color:#d2f55b;outline:none;box-shadow:0 0 0 2px #d2f55b33}#hiringPlatforms[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px 12px;border-radius:6px}label[for=hiringPlatforms][_ngcontent-%COMP%]{font-weight:600;color:#3d3d3d;margin-bottom:6px}.form-text[_ngcontent-%COMP%]{color:#7a7a7a;font-size:.95rem;margin-top:2px}.col-md-6[_ngcontent-%COMP%] > #hiringPlatforms[_ngcontent-%COMP%]{margin-top:2px;margin-bottom:8px}.hiring-platforms-checkbox-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px;margin-top:6px;margin-bottom:8px}.hiring-platforms-checkbox-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:0}.hiring-platforms-checkbox-group[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:1.2em;height:1.2em;border-radius:6px;border:1.5px solid #c6e48b;background:#f8fff0;margin-right:6px;transition:border-color .2s,box-shadow .2s}.hiring-platforms-checkbox-group[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#d2f55b;border-color:#d2f55b;box-shadow:0 0 0 2px #d2f55b33}.hiring-platforms-checkbox-group[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-weight:500;color:#3d3d3d;font-size:1rem;cursor:pointer}@media (max-width: 900px){.create-job-card[_ngcontent-%COMP%]{max-width:98vw;padding:2rem .5rem}}textarea#description[_ngcontent-%COMP%]{resize:none}
/*# sourceMappingURL=create-job.component-VNNBFJQL.css.map */`]})}return c})();export{re as CreateJobComponent};
//# sourceMappingURL=chunk-7SU3OPXB.js.map
